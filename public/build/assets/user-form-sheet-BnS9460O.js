import{u as b,r as w,b as y,j as e}from"./app-CzQVzdmc.js";import{F as l}from"./form-control-Dk2-VdaC.js";import{S as F}from"./submit-button-D_dLBHOk.js";import{B as N}from"./button-CU_mGtAv.js";import{C as k}from"./checkbox-I_DsPxmK.js";import{I as i}from"./input-2WhRZJo3.js";import{L as E}from"./label-DuQbsmPr.js";import{S as B}from"./scroll-area-D3KVIJ-R.js";import{S as U,a as D,b as P,c as _,d as I,e as L,f as O,g as R}from"./sheet-C5lK2Zut.js";import{c as p,t as n,e as h}from"./utils-hZ0mFl5V.js";import{X as T}from"./x-gsRosU7o.js";/* empty css            */import"./loader-circle-skiWcYTM.js";import"./createLucideIcon-CUS7vqFQ.js";import"./check-mUbLxOvB.js";import"./index-DovcoTDN.js";import"./index-CsSVv123.js";import"./index-1hpOEd7n.js";import"./index-DNkflAsx.js";import"./index-DyPvs_BG.js";import"./index-CC_0_2vE.js";import"./index-CHxR0mwP.js";import"./index-DX_iff6I.js";import"./index-C5dZXH5d.js";import"./index-D_lVdEEm.js";import"./index-BdQq_4o_.js";import"./index-CrnezDAU.js";import"./index-C1FemZb5.js";import"./index-BjHXrk86.js";const ue=({children:u,user:a,purpose:o})=>{const{roles:x}=b().props,[f,m]=w.useState(!1),{data:r,setData:t,put:j,post:S,reset:g,processing:c}=y({name:a?.name??"",email:a?.email??"",password:a?void 0:"",password_confirmation:a?void 0:"",roles:a?.roles??[]}),d=()=>{o==="create"||o==="duplicate"?S(route("user.store"),{preserveScroll:!0,onSuccess:()=>{n.success("User created successfully"),g(),m(!1)},onError:s=>n.error(h(s))}):j(route("user.update",a?.id),{preserveScroll:!0,onSuccess:()=>{n.success("User updated successfully")},onError:s=>n.error(h(s))})};return e.jsxs(U,{open:f,onOpenChange:m,children:[e.jsx(D,{asChild:!0,children:u}),e.jsxs(P,{children:[e.jsxs(_,{children:[e.jsxs(I,{children:[p(o)," data user"]}),e.jsxs(L,{children:["Form untuk ",o," data user"]})]}),e.jsx(B,{className:"flex-1 overflow-y-auto",children:e.jsxs("form",{className:"space-y-6 px-4",onSubmit:s=>{s.preventDefault(),d()},children:[e.jsx(l,{label:"Nama user",children:e.jsx(i,{type:"text",placeholder:"Name",value:r.name,onChange:s=>t("name",s.target.value)})}),e.jsx(l,{label:"Email address",children:e.jsx(i,{type:"email",placeholder:"username@domain.com",value:r.email,onChange:s=>t("email",s.target.value)})}),o=="create"&&e.jsxs(e.Fragment,{children:[e.jsx(l,{label:"Password",children:e.jsx(i,{type:"password",placeholder:"User password",value:r.password,onChange:s=>t("password",s.target.value)})}),e.jsx(l,{label:"Password confirmation",children:e.jsx(i,{type:"password",placeholder:"Rewrite user password",value:r.password_confirmation,onChange:s=>t("password_confirmation",s.target.value)})})]}),e.jsx(l,{label:"Select role",children:e.jsx("div",{className:"grid",children:x.map(s=>e.jsxs(E,{className:"flex h-8 items-center gap-2",children:[e.jsx(k,{checked:r.roles?.includes(s),onCheckedChange:v=>t("roles",v?[...r.roles,s]:r.roles.filter(C=>C!==s))}),s]}))})})]})}),e.jsxs(O,{children:[e.jsx(F,{onClick:d,label:`${p(o)} user`,loading:c,disabled:c}),e.jsx(R,{asChild:!0,children:e.jsxs(N,{variant:"outline",children:[e.jsx(T,{})," Batalin"]})})]})]})]})};export{ue as default};
