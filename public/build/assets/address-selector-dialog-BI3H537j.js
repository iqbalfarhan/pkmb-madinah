import{r as s,j as e}from"./app-CS-yIPaM.js";import{a as r}from"./enums-BPLdzZis.js";import{m as T}from"./utils-BazKVnAh.js";import{F as t}from"./form-control-CCT1Kzs0.js";import{S as M}from"./submit-button-vxw2230C.js";import{B as H}from"./button-DFMH_WM3.js";import{D as W,a as q,b as z,c as G,d as Q,e as U,f as X,g as Y}from"./dialog-CndTwVWE.js";import{I as o}from"./input-CNVaM7Og.js";import{S as u,a as p,b as g,c as j,d as x}from"./select-DKE80rGD.js";import{T as Z}from"./textarea-Bk00nsO9.js";const ia=({value:n,onValueChange:R})=>{const[N,D]=s.useState(!1),[i,V]=s.useState(n?.provinsi),[m,y]=s.useState(n?.dusun),[c,K]=s.useState(n?.kota),[l,S]=s.useState(n?.kecamatan),[k,d]=s.useState(n?.kelurahan),[f,h]=s.useState(n?.kodepos),[b,A]=s.useState(n?.jalan),[v,B]=s.useState(n?.rt),[C,L]=s.useState(n?.rw),F=[...new Set(r.map(a=>a.provinsi))],I=[...new Set(r.filter(a=>a.provinsi===i).map(a=>a.kabupaten))],J=[...new Set(r.filter(a=>a.kabupaten===c).map(a=>a.kecamatan))],O=[...new Set(r.filter(a=>a.kecamatan===l).map(a=>a.kelurahan))],E=a=>{d(a);const w=r.find(P=>P.kelurahan===a&&P.kecamatan===l);w&&h(w.kodepos)};return e.jsxs(W,{open:N,onOpenChange:D,children:[e.jsx(q,{children:e.jsx(Z,{value:T({jalan:b?.toString(),dusun:m?.toString(),rt:v?.toString(),rw:C?.toString(),kelurahan:k?.toString(),kodepos:f?.toString(),kecamatan:l?.toString(),kota:c,provinsi:i?.toString()})})}),e.jsxs(z,{children:[e.jsxs(G,{children:[e.jsx(Q,{children:"Tempat Tinggal"}),e.jsx(U,{children:"Alamat lengkap tempat tinggal"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6 py-4",children:[e.jsx(t,{label:"Provinsi",children:e.jsxs(u,{value:i,onValueChange:a=>{V(a),K(""),S(""),d(""),h("")},children:[e.jsx(p,{children:e.jsx(g,{placeholder:"Pilih provinsi"})}),e.jsx(j,{children:F.map(a=>e.jsx(x,{value:a,children:a},a))})]})}),e.jsx(t,{label:"Kabupaten / Kota",children:e.jsxs(u,{value:c,onValueChange:a=>{K(a),S(""),d(""),h("")},children:[e.jsx(p,{children:e.jsx(g,{placeholder:"Pilih kabupaten / kota"})}),e.jsx(j,{children:I.map(a=>e.jsx(x,{value:a,children:a},a))})]})}),e.jsx(t,{label:"Kecamatan",children:e.jsxs(u,{value:l,onValueChange:a=>{S(a),d(""),h("")},children:[e.jsx(p,{children:e.jsx(g,{placeholder:"Pilih kecamatan"})}),e.jsx(j,{children:J.map(a=>e.jsx(x,{value:a,children:a},a))})]})}),e.jsx(t,{label:"Kelurahan",children:e.jsxs(u,{value:k,onValueChange:E,children:[e.jsx(p,{children:e.jsx(g,{placeholder:"Pilih kelurahan"})}),e.jsx(j,{children:O.map(a=>e.jsx(x,{value:a,children:a},a))})]})}),e.jsx(t,{label:"Jalan / Perumahan & No. Rumah",children:e.jsx(o,{placeholder:"Contoh: Jl. Durian No. 88",value:b,onChange:a=>A(a.target.value)})}),e.jsx(t,{label:"Dusun",children:e.jsx(o,{placeholder:"Nama dusun",value:m,onChange:a=>y(a.target.value)})}),e.jsx(t,{label:"RT",children:e.jsx(o,{placeholder:"Misal: 01",value:v,onChange:a=>B(a.target.value)})}),e.jsx(t,{label:"RW",children:e.jsx(o,{placeholder:"Misal: 04",value:C,onChange:a=>L(a.target.value)})}),e.jsx(t,{label:"Kode Pos",children:e.jsx(o,{placeholder:"Kode Pos",value:f,readOnly:!0})})]}),e.jsxs(X,{className:"flex flex-1 justify-between",children:[e.jsx(Y,{asChild:!0,children:e.jsx(H,{variant:"secondary",children:"Batal"})}),e.jsx(M,{onClick:()=>{const a=T(n);console.log(a),R?.({jalan:b?.toString(),dusun:m?.toString(),rt:v?.toString(),rw:C?.toString(),kelurahan:k?.toString(),kodepos:f?.toString(),kecamatan:l?.toString(),kota:c,provinsi:i?.toString()}),D(!1)}})]})]})]})};export{ia as A};
