import{r as u,b as x,j as e}from"./app-CnyPREJ-.js";import{F as n}from"./form-control-CpoOwxb9.js";import{S as j}from"./submit-button-G-1iH5Bd.js";import{B as f}from"./button-Cf4wYvCP.js";import{I as S}from"./input-CZBJIbKF.js";import{S as g}from"./scroll-area-BX6z6hwV.js";import{S as v,a as b,b as C,c as U,d as o}from"./select-Cz5uR_pQ.js";import{S as k,a as w,b as P,c as y,d as B,e as F,f as M,g as N}from"./sheet-L91ihdVl.js";import{t as m,e as _}from"./utils-HkNTxtik.js";import{X as D}from"./x-DjY-ggj4.js";/* empty css            */import"./label-BaIYUilS.js";import"./index-BJ8NKJYR.js";import"./index-DdCoh6q1.js";import"./loader-circle-BIsTaqmm.js";import"./createLucideIcon-5rNViRsZ.js";import"./check-DHSVIZm8.js";import"./index-CScbU3I6.js";import"./index-BM4t40NP.js";import"./index-Bpyw5BCs.js";import"./index-DaxBE-2j.js";import"./index-DCNWCe38.js";import"./index-BdQq_4o_.js";import"./index-BpDI_TL4.js";import"./index-UBRfSNvc.js";import"./index-CH2FlRwe.js";import"./index-DoMybdJg.js";import"./index-ChoB2ppW.js";import"./index-CUPAP2s4.js";import"./index-Cjo3pXKs.js";import"./index-16YDSQ6S.js";import"./chevron-down-BPH0r2mw.js";import"./index-DhzsI8Jl.js";const he=({student:i,children:p})=>{const[d,s]=u.useState(!1),{data:t,setData:a,post:h,processing:l}=x({collection_name:"",file:void 0}),c=()=>{h(route("student.upload-media",i.id),{preserveScroll:!0,onSuccess:()=>{m.success("Media uploaded successfully"),a("file",void 0),s(!1)},onError:r=>m.error(_(r))})};return e.jsxs(k,{open:d,onOpenChange:s,children:[e.jsx(w,{asChild:!0,children:p}),e.jsxs(P,{children:[e.jsxs(y,{children:[e.jsx(B,{children:"Upload Media"}),e.jsx(F,{children:"Upload media to student"})]}),e.jsx(g,{className:"flex-1 overflow-y-auto",children:e.jsxs("form",{className:"space-y-6 px-4",onSubmit:r=>{r.preventDefault(),c()},children:[e.jsx(n,{label:"Pilih collection",children:e.jsxs(v,{value:t.collection_name,onValueChange:r=>a("collection_name",r),required:!0,children:[e.jsx(b,{children:e.jsx(C,{placeholder:"Pilih collection"})}),e.jsxs(U,{children:[e.jsx(o,{value:"kartu keluarga",children:"Kartu Keluarga"}),e.jsx(o,{value:"akta kelahiran",children:"Akta Kelahiran"}),e.jsx(o,{value:"photo siswa",children:"Photo siswa"})]})]})}),e.jsxs(n,{label:"Pilih file",children:[e.jsx(S,{type:"file",onChange:r=>a("file",r.target.files?.[0]),accept:"image/*"}),t.file&&e.jsx("img",{src:URL.createObjectURL(t.file)})]}),e.jsx("div",{className:"grid grid-cols-3 gap-1",children:i.media?.map(r=>e.jsx("img",{src:r.preview_url,alt:r.name,className:"aspect-square w-full object-cover"},r.id))})]})}),e.jsxs(M,{children:[e.jsx(j,{onClick:c,label:"Upload media",loading:l,disabled:l}),e.jsx(N,{asChild:!0,children:e.jsxs(f,{variant:"outline",children:[e.jsx(D,{})," Batalin"]})})]})]})]})};export{he as default};
