import{r as h,b as j,j as r}from"./app-BNTwwXVW.js";import{F as p}from"./form-control-Bq61I7S1.js";import{S as g}from"./submit-button-Cb9Ax8Vn.js";import{B as S}from"./button-BnNV5UCU.js";import{I as v}from"./input-h13mt52a.js";import{P as b,a as u,b as C}from"./popover-B8p0Pbpx.js";import{T as _}from"./textarea-JZNzFbF7.js";import{t,e as l}from"./utils-CDcjCioB.js";/* empty css            */import"./label-BHm5L64V.js";import"./index-BbxTUGVi.js";import"./index-DySa6fWE.js";import"./loader-circle-CiLsio8S.js";import"./createLucideIcon-kR0WmSl8.js";import"./check-DvRc2qOB.js";import"./index-uDeRhsBJ.js";import"./index-BW3NYY5r.js";import"./index-DF3nonru.js";import"./index-KuZxkFVI.js";import"./index-t86CcUKH.js";import"./index-DdUN5Qfu.js";import"./index-CNS6n_Hq.js";import"./index-DAdQG5vf.js";import"./index-CrS9evr-.js";const V=({children:m,score:o,options:s})=>{const[c,a]=h.useState(!1),{data:i,setData:n,post:d,put:x}=j({student_id:s?.student_id,lesson_id:s?.lesson_id,assignment_id:s?.assignment_id,score:o?.score??"0",remark:o?.remark??""}),f=()=>{o?x(route("score.update",o.id),{preserveScroll:!0,onSuccess:()=>{t.success("Score updated"),a(!1)},onError:e=>t.error(l(e))}):d(route("score.store"),{preserveScroll:!0,onSuccess:()=>{t.success("Score created"),a(!1)},onError:e=>t.error(l(e))})};return r.jsxs(b,{open:c,onOpenChange:a,children:[m?r.jsx(u,{asChild:!0,children:m}):r.jsx(u,{children:r.jsx(S,{variant:"ghost",size:"icon",children:i.score})}),r.jsx(C,{children:r.jsxs("form",{className:"space-y-6",onSubmit:e=>{e.preventDefault(),f()},children:[r.jsx(p,{label:"Nilai siswa",children:r.jsx(v,{value:i.score,onChange:e=>n("score",e.target.value)})}),r.jsx(p,{label:"Komentar guru",children:r.jsx(_,{placeholder:"tulis komentar guru disini",value:i.remark,onChange:e=>n("remark",e.target.value)})}),r.jsx(g,{})]})})]})};export{V as default};
