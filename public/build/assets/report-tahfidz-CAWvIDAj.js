import{u as R,b as y,r as v,j as a}from"./app-CoBE1Zzn.js";import{B as p}from"./button-CQTvVmBL.js";import{C as j,a as u,b as f,e as b,c as g,d as B}from"./card-f7StmAqw.js";import{S as D}from"./separator-DWZNGkVi.js";import{T as F,a as H,b as c,c as o,d as E,e as n}from"./table-DGCdg-Lb.js";import{T as P}from"./textarea-CFR-RAxP.js";import{t as C,e as _,g as A}from"./utils-BzI71WvK.js";import w from"./report-header-C_BfXSsc.js";import I from"./report-student-card-BAK_MipL.js";import J from"./report-tahfidz-form-sheet-BjPY-ADm.js";import{C as K}from"./check-C12Y_Mlh.js";import{S as L}from"./square-pen-BHkl9Go5.js";import{T as $}from"./trash-2-EDUBg1st.js";import{P as q}from"./plus-Diqm6jnq.js";/* empty css            */import"./index-WsFPQOuW.js";import"./index-Ci1_xouf.js";import"./index-DIrCVZmC.js";import"./form-control-CnlgkaS_.js";import"./label-71dUFAzo.js";import"./submit-button-dzFLk_jf.js";import"./loader-circle-CpnrQr-Q.js";import"./createLucideIcon-ENR6-eXz.js";import"./scroll-area-TmiyxhgF.js";import"./index-oTahfhwA.js";import"./index-D05q4ZqQ.js";import"./index-CuyKzCZd.js";import"./index-CjiXDCAo.js";import"./index-BdQq_4o_.js";import"./index-BXbSGBo8.js";import"./select-DcCUuZV4.js";import"./index-BivDfLr4.js";import"./index-CN1vvtyg.js";import"./index-Bz8ZSNxV.js";import"./index-CEI_PXeg.js";import"./index-DYmCuUJq.js";import"./index-DelEXeum.js";import"./index-DAuN5-Gl.js";import"./chevron-down-BeKZz4hf.js";import"./sheet-DPTOtHa5.js";import"./index-DELI9VLI.js";import"./x-ENAFh9Pl.js";import"./enums-C02uj7LO.js";const Ea=({data:i})=>{const{report:h}=R().props,{data:e,setData:d,put:x}=y({data:i}),T=v.useCallback(()=>{x(route("report.update",h.id),{preserveScroll:!0,onSuccess:()=>{C.success("Rapor berhasil disimpan")},onError:r=>C.error(_(r))})},[x,h.id]),S=(r,t)=>{const s=[...e.data.nilai];s[r]=t,d("data.nilai",s)},z=r=>{const t=[...e.data.nilai];t.splice(r,1),d("data.nilai",t)},N=()=>{const r=[...e.data.nilai,{juz:"",surah:"",pencapaian:"",keterangan:""}];d("data.nilai",r)},k=A(e.data.nilai,"juz");return a.jsxs(a.Fragment,{children:[a.jsx(w,{}),a.jsxs(p,{onClick:T,className:"fixed right-6 bottom-6",children:[a.jsx(K,{}),"Simpan"]}),a.jsx(I,{student_name:i.nama,student_age:i.usia,student_nisn:i.nisn,classroom_name:i.kelas}),a.jsxs(j,{children:[a.jsxs(u,{children:[a.jsx(f,{children:"List hafalan"}),a.jsx(b,{children:"List hafalan yang sudah dihafal siswa"})]}),a.jsx(g,{children:a.jsxs(F,{children:[a.jsx(H,{children:a.jsxs(c,{children:[a.jsx(o,{children:"No"}),a.jsx(o,{children:"Nama Surah"}),a.jsx(o,{children:"Kemampuan yang Dicapai"}),a.jsx(o,{children:"Keterangan Ayat"}),a.jsx(o,{children:"Actions"})]})}),a.jsx(E,{children:Object.entries(k).map(([r,t])=>a.jsxs(a.Fragment,{children:[r!==""&&a.jsx(c,{children:a.jsxs(n,{colSpan:5,className:"bg-muted text-center text-muted-foreground",children:["Hafalan Juz ",r]})}),t.map(s=>{const m=e.data.nilai.findIndex(l=>l.surah===s.surah&&l.juz===s.juz);return a.jsxs(c,{children:[a.jsx(n,{children:m+1}),a.jsx(n,{children:s.surah}),a.jsx(n,{children:s.pencapaian}),a.jsx(n,{children:s.keterangan}),a.jsxs(n,{children:[a.jsx(J,{purpose:"edit",data:s,onSubmit:l=>S(m,l),children:a.jsx(p,{variant:"ghost",size:"icon",children:a.jsx(L,{})})}),a.jsx(p,{variant:"ghost",size:"icon",onClick:()=>z(m),children:a.jsx($,{})})]})]},`${s.juz}-${s.surah}`)})]}))})]})}),a.jsx(B,{children:a.jsxs(p,{onClick:N,children:[a.jsx(q,{})," Tambah baris"]})})]}),a.jsxs(j,{children:[a.jsxs(u,{children:[a.jsx(f,{children:"Catatan"}),a.jsxs(b,{children:["Catatan dari pembina tahfidz ",i.pembimbing]})]}),a.jsx(D,{}),a.jsx(g,{children:a.jsx(P,{value:e.data.catatan,onChange:r=>d("data.catatan",r.target.value)})})]})]})};export{Ea as default};
