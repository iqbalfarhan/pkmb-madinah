import{r as u,b as x,j as e}from"./app-CoBE1Zzn.js";import{F as n}from"./form-control-CnlgkaS_.js";import{S as j}from"./submit-button-dzFLk_jf.js";import{B as f}from"./button-CQTvVmBL.js";import{I as S}from"./input-BxtGXl-r.js";import{S as g}from"./scroll-area-TmiyxhgF.js";import{S as v,a as b,b as C,c as U,d as o}from"./select-DcCUuZV4.js";import{S as k,a as w,b as P,c as y,d as B,e as F,f as M,g as N}from"./sheet-DPTOtHa5.js";import{t as m,e as _}from"./utils-BzI71WvK.js";import{X as D}from"./x-ENAFh9Pl.js";/* empty css            */import"./label-71dUFAzo.js";import"./index-DIrCVZmC.js";import"./index-WsFPQOuW.js";import"./loader-circle-CpnrQr-Q.js";import"./createLucideIcon-ENR6-eXz.js";import"./check-C12Y_Mlh.js";import"./index-Ci1_xouf.js";import"./index-oTahfhwA.js";import"./index-D05q4ZqQ.js";import"./index-CuyKzCZd.js";import"./index-CjiXDCAo.js";import"./index-BdQq_4o_.js";import"./index-BXbSGBo8.js";import"./index-BivDfLr4.js";import"./index-CN1vvtyg.js";import"./index-Bz8ZSNxV.js";import"./index-CEI_PXeg.js";import"./index-DYmCuUJq.js";import"./index-DelEXeum.js";import"./index-DAuN5-Gl.js";import"./chevron-down-BeKZz4hf.js";import"./index-DELI9VLI.js";const he=({student:i,children:p})=>{const[d,s]=u.useState(!1),{data:t,setData:a,post:h,processing:l}=x({collection_name:"",file:void 0}),c=()=>{h(route("student.upload-media",i.id),{preserveScroll:!0,onSuccess:()=>{m.success("Media uploaded successfully"),a("file",void 0),s(!1)},onError:r=>m.error(_(r))})};return e.jsxs(k,{open:d,onOpenChange:s,children:[e.jsx(w,{asChild:!0,children:p}),e.jsxs(P,{children:[e.jsxs(y,{children:[e.jsx(B,{children:"Upload Media"}),e.jsx(F,{children:"Upload media to student"})]}),e.jsx(g,{className:"flex-1 overflow-y-auto",children:e.jsxs("form",{className:"space-y-6 px-4",onSubmit:r=>{r.preventDefault(),c()},children:[e.jsx(n,{label:"Pilih collection",children:e.jsxs(v,{value:t.collection_name,onValueChange:r=>a("collection_name",r),required:!0,children:[e.jsx(b,{children:e.jsx(C,{placeholder:"Pilih collection"})}),e.jsxs(U,{children:[e.jsx(o,{value:"kartu keluarga",children:"Kartu Keluarga"}),e.jsx(o,{value:"akta kelahiran",children:"Akta Kelahiran"}),e.jsx(o,{value:"photo siswa",children:"Photo siswa"})]})]})}),e.jsxs(n,{label:"Pilih file",children:[e.jsx(S,{type:"file",onChange:r=>a("file",r.target.files?.[0]),accept:"image/*"}),t.file&&e.jsx("img",{src:URL.createObjectURL(t.file)})]}),e.jsx("div",{className:"grid grid-cols-3 gap-1",children:i.media?.map(r=>e.jsx("img",{src:r.preview_url,alt:r.name,className:"aspect-square w-full object-cover"},r.id))})]})}),e.jsxs(M,{children:[e.jsx(j,{onClick:c,label:"Upload media",loading:l,disabled:l}),e.jsx(N,{asChild:!0,children:e.jsxs(f,{variant:"outline",children:[e.jsx(D,{})," Batalin"]})})]})]})]})};export{he as default};
