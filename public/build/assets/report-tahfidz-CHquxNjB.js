import{u as R,b as y,r as v,j as a}from"./app-BNTwwXVW.js";import{B as p}from"./button-BnNV5UCU.js";import{C as j,a as u,b as f,e as b,c as g,d as B}from"./card-Cq4FcUaH.js";import{S as D}from"./separator-CE3VzPoV.js";import{T as F,a as H,b as c,c as o,d as E,e as n}from"./table-BOQ63xr6.js";import{T as P}from"./textarea-JZNzFbF7.js";import{t as C,e as _,g as A}from"./utils-CDcjCioB.js";import w from"./report-header-DBsbj5mc.js";import I from"./report-student-card-nxBKmQTl.js";import J from"./report-tahfidz-form-sheet-BNu-D9LK.js";import{C as K}from"./check-DvRc2qOB.js";import{S as L}from"./square-pen-ClhKfye_.js";import{T as $}from"./trash-2-aDzpELHJ.js";import{P as q}from"./plus-DY9O0hUa.js";/* empty css            */import"./index-DySa6fWE.js";import"./index-uDeRhsBJ.js";import"./index-BbxTUGVi.js";import"./form-control-Bq61I7S1.js";import"./label-BHm5L64V.js";import"./submit-button-Cb9Ax8Vn.js";import"./loader-circle-CiLsio8S.js";import"./createLucideIcon-kR0WmSl8.js";import"./scroll-area-CM3CDjBO.js";import"./index-CrS9evr-.js";import"./index-DF3nonru.js";import"./index-t86CcUKH.js";import"./index-BVhIkwKD.js";import"./index-BdQq_4o_.js";import"./index-BW3NYY5r.js";import"./select-DDACqZay.js";import"./index-FurG4mwA.js";import"./index-KuZxkFVI.js";import"./index-DdUN5Qfu.js";import"./index-CNS6n_Hq.js";import"./index-DAdQG5vf.js";import"./index-Dpp4T11i.js";import"./index-W1SD5Wdu.js";import"./chevron-down-BTK_BbVa.js";import"./sheet-Dy-qTqW2.js";import"./index-BPB3hEPU.js";import"./x-D3jpYiPd.js";import"./enums-C02uj7LO.js";const Ea=({data:i})=>{const{report:h}=R().props,{data:e,setData:d,put:x}=y({data:i}),T=v.useCallback(()=>{x(route("report.update",h.id),{preserveScroll:!0,onSuccess:()=>{C.success("Rapor berhasil disimpan")},onError:r=>C.error(_(r))})},[x,h.id]),S=(r,t)=>{const s=[...e.data.nilai];s[r]=t,d("data.nilai",s)},z=r=>{const t=[...e.data.nilai];t.splice(r,1),d("data.nilai",t)},N=()=>{const r=[...e.data.nilai,{juz:"",surah:"",pencapaian:"",keterangan:""}];d("data.nilai",r)},k=A(e.data.nilai,"juz");return a.jsxs(a.Fragment,{children:[a.jsx(w,{}),a.jsxs(p,{onClick:T,className:"fixed right-6 bottom-6",children:[a.jsx(K,{}),"Simpan"]}),a.jsx(I,{student_name:i.nama,student_age:i.usia,student_nisn:i.nisn,classroom_name:i.kelas}),a.jsxs(j,{children:[a.jsxs(u,{children:[a.jsx(f,{children:"List hafalan"}),a.jsx(b,{children:"List hafalan yang sudah dihafal siswa"})]}),a.jsx(g,{children:a.jsxs(F,{children:[a.jsx(H,{children:a.jsxs(c,{children:[a.jsx(o,{children:"No"}),a.jsx(o,{children:"Nama Surah"}),a.jsx(o,{children:"Kemampuan yang Dicapai"}),a.jsx(o,{children:"Keterangan Ayat"}),a.jsx(o,{children:"Actions"})]})}),a.jsx(E,{children:Object.entries(k).map(([r,t])=>a.jsxs(a.Fragment,{children:[r!==""&&a.jsx(c,{children:a.jsxs(n,{colSpan:5,className:"bg-muted text-center text-muted-foreground",children:["Hafalan Juz ",r]})}),t.map(s=>{const m=e.data.nilai.findIndex(l=>l.surah===s.surah&&l.juz===s.juz);return a.jsxs(c,{children:[a.jsx(n,{children:m+1}),a.jsx(n,{children:s.surah}),a.jsx(n,{children:s.pencapaian}),a.jsx(n,{children:s.keterangan}),a.jsxs(n,{children:[a.jsx(J,{purpose:"edit",data:s,onSubmit:l=>S(m,l),children:a.jsx(p,{variant:"ghost",size:"icon",children:a.jsx(L,{})})}),a.jsx(p,{variant:"ghost",size:"icon",onClick:()=>z(m),children:a.jsx($,{})})]})]},`${s.juz}-${s.surah}`)})]}))})]})}),a.jsx(B,{children:a.jsxs(p,{onClick:N,children:[a.jsx(q,{})," Tambah baris"]})})]}),a.jsxs(j,{children:[a.jsxs(u,{children:[a.jsx(f,{children:"Catatan"}),a.jsxs(b,{children:["Catatan dari pembina tahfidz ",i.pembimbing]})]}),a.jsx(D,{}),a.jsx(g,{children:a.jsx(P,{value:e.data.catatan,onChange:r=>d("data.catatan",r.target.value)})})]})]})};export{Ea as default};
