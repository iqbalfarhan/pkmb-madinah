import{u as R,b as y,r as v,j as a}from"./app-DcIBRsLW.js";import{B as p}from"./button-BHayiiQk.js";import{C as j,a as u,b as f,e as b,c as g,d as B}from"./card-Bkhz9P0c.js";import{S as D}from"./separator-By50BDfk.js";import{T as F,a as H,b as c,c as o,d as E,e as n}from"./table-BpFPd22J.js";import{T as P}from"./textarea-Bj3OGao8.js";import{t as C,e as _,g as A}from"./utils-C5ZhllyX.js";import w from"./report-header-vE00NU3M.js";import I from"./report-student-card-Be0Amxd-.js";import J from"./report-tahfidz-form-sheet-ANWAjxaO.js";import{C as K}from"./check-B8PMkhu0.js";import{S as L}from"./square-pen-DFezT1sI.js";import{T as $}from"./trash-2-CyVWCoPe.js";import{P as q}from"./plus-BLwL40Ct.js";/* empty css            */import"./index-C6cGwo-U.js";import"./index-CU967_Ze.js";import"./index-CBUk3eC4.js";import"./form-control-CLyWpSzJ.js";import"./label-Dk4hXNE8.js";import"./submit-button-BeeNg6rs.js";import"./loader-circle-B8TsGvSd.js";import"./createLucideIcon-BU0hAwVN.js";import"./scroll-area-CTZiTiSy.js";import"./index-DBjXRdXg.js";import"./index-4fwAXKrg.js";import"./index-BlTZnHeu.js";import"./index-VvHVp5_2.js";import"./index-BdQq_4o_.js";import"./index-Ch_-Gjtq.js";import"./select-BtgK7BVN.js";import"./index-BdtuxhGO.js";import"./index-DcM6Nda1.js";import"./index-BaPVbBff.js";import"./index-B9ZLRWFs.js";import"./index-ByyzoEsy.js";import"./index-BF3g6nXa.js";import"./index-DU2kmGmw.js";import"./chevron-down-CPiI0xqF.js";import"./sheet-e1qpL6dg.js";import"./index-DKFpxkG0.js";import"./x-CkzaMR-P.js";import"./enums-C02uj7LO.js";const Ea=({data:i})=>{const{report:h}=R().props,{data:e,setData:d,put:x}=y({data:i}),T=v.useCallback(()=>{x(route("report.update",h.id),{preserveScroll:!0,onSuccess:()=>{C.success("Rapor berhasil disimpan")},onError:r=>C.error(_(r))})},[x,h.id]),S=(r,t)=>{const s=[...e.data.nilai];s[r]=t,d("data.nilai",s)},z=r=>{const t=[...e.data.nilai];t.splice(r,1),d("data.nilai",t)},N=()=>{const r=[...e.data.nilai,{juz:"",surah:"",pencapaian:"",keterangan:""}];d("data.nilai",r)},k=A(e.data.nilai,"juz");return a.jsxs(a.Fragment,{children:[a.jsx(w,{}),a.jsxs(p,{onClick:T,className:"fixed right-6 bottom-6",children:[a.jsx(K,{}),"Simpan"]}),a.jsx(I,{student_name:i.nama,student_age:i.usia,student_nisn:i.nisn,classroom_name:i.kelas}),a.jsxs(j,{children:[a.jsxs(u,{children:[a.jsx(f,{children:"List hafalan"}),a.jsx(b,{children:"List hafalan yang sudah dihafal siswa"})]}),a.jsx(g,{children:a.jsxs(F,{children:[a.jsx(H,{children:a.jsxs(c,{children:[a.jsx(o,{children:"No"}),a.jsx(o,{children:"Nama Surah"}),a.jsx(o,{children:"Kemampuan yang Dicapai"}),a.jsx(o,{children:"Keterangan Ayat"}),a.jsx(o,{children:"Actions"})]})}),a.jsx(E,{children:Object.entries(k).map(([r,t])=>a.jsxs(a.Fragment,{children:[r!==""&&a.jsx(c,{children:a.jsxs(n,{colSpan:5,className:"bg-muted text-center text-muted-foreground",children:["Hafalan Juz ",r]})}),t.map(s=>{const m=e.data.nilai.findIndex(l=>l.surah===s.surah&&l.juz===s.juz);return a.jsxs(c,{children:[a.jsx(n,{children:m+1}),a.jsx(n,{children:s.surah}),a.jsx(n,{children:s.pencapaian}),a.jsx(n,{children:s.keterangan}),a.jsxs(n,{children:[a.jsx(J,{purpose:"edit",data:s,onSubmit:l=>S(m,l),children:a.jsx(p,{variant:"ghost",size:"icon",children:a.jsx(L,{})})}),a.jsx(p,{variant:"ghost",size:"icon",onClick:()=>z(m),children:a.jsx($,{})})]})]},`${s.juz}-${s.surah}`)})]}))})]})}),a.jsx(B,{children:a.jsxs(p,{onClick:N,children:[a.jsx(q,{})," Tambah baris"]})})]}),a.jsxs(j,{children:[a.jsxs(u,{children:[a.jsx(f,{children:"Catatan"}),a.jsxs(b,{children:["Catatan dari pembina tahfidz ",i.pembimbing]})]}),a.jsx(D,{}),a.jsx(g,{children:a.jsx(P,{value:e.data.catatan,onChange:r=>d("data.catatan",r.target.value)})})]})]})};export{Ea as default};
