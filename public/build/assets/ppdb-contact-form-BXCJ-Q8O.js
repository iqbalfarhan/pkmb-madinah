import{r as p,j as a,u as L,b as V}from"./app-CnyPREJ-.js";import{l as E,t as R,e as O}from"./utils-HkNTxtik.js";import{F as i}from"./form-control-CpoOwxb9.js";import{S as U}from"./submit-button-G-1iH5Bd.js";import{B as W}from"./button-Cf4wYvCP.js";import{D as q,a as H,b as z,c as Q,d as X,e as Y,f as Z,g as _}from"./dialog-BFuCW_rR.js";import{I as t}from"./input-CZBJIbKF.js";import{S as h,a as B,b as g,c as v,d as x}from"./select-Cz5uR_pQ.js";import{T as $}from"./textarea-BBkzx9Wy.js";import{C as aa,c as na,d as ea}from"./card-CgJ4WiRv.js";import{S as ia}from"./separator-CZ2gy3lW.js";import pa from"./ppdb-form-wrapper-SxDSd4ND.js";/* empty css            */import"./label-BaIYUilS.js";import"./index-BJ8NKJYR.js";import"./index-DdCoh6q1.js";import"./loader-circle-BIsTaqmm.js";import"./createLucideIcon-5rNViRsZ.js";import"./check-DHSVIZm8.js";import"./index-CScbU3I6.js";import"./index-DhzsI8Jl.js";import"./index-BpDI_TL4.js";import"./index-Bpyw5BCs.js";import"./index-DoMybdJg.js";import"./index-CH2FlRwe.js";import"./index-DaxBE-2j.js";import"./index-BM4t40NP.js";import"./x-DjY-ggj4.js";import"./index-BdQq_4o_.js";import"./index-UBRfSNvc.js";import"./index-DCNWCe38.js";import"./index-ChoB2ppW.js";import"./index-CUPAP2s4.js";import"./index-Cjo3pXKs.js";import"./index-16YDSQ6S.js";import"./chevron-down-BPH0r2mw.js";import"./heading-small-CjGPnXIy.js";const k=[{provinsi:"Kalimantan Timur",kabupaten:"Balikpapan",kecamatan:"Balikpapan Selatan",kelurahan:"Damai Bahagia",kodepos:"76114"},{provinsi:"Kalimantan Timur",kabupaten:"Balikpapan",kecamatan:"Balikpapan Selatan",kelurahan:"Damai Baru",kodepos:"76114"},{provinsi:"Kalimantan Timur",kabupaten:"Balikpapan",kecamatan:"Balikpapan Selatan",kelurahan:"Gunung Bahagia",kodepos:"76114"},{provinsi:"Kalimantan Timur",kabupaten:"Balikpapan",kecamatan:"Balikpapan Selatan",kelurahan:"Sepinggan",kodepos:"76115"},{provinsi:"Kalimantan Timur",kabupaten:"Balikpapan",kecamatan:"Balikpapan Selatan",kelurahan:"Sepinggan Baru",kodepos:"76115"},{provinsi:"Kalimantan Timur",kabupaten:"Balikpapan",kecamatan:"Balikpapan Selatan",kelurahan:"Sepinggan Raya",kodepos:"76115"},{provinsi:"Kalimantan Timur",kabupaten:"Balikpapan",kecamatan:"Balikpapan Selatan",kelurahan:"Sungai Nangka",kodepos:"76114"},{provinsi:"Kalimantan Timur",kabupaten:"Balikpapan",kecamatan:"Balikpapan Kota",kelurahan:"Damai",kodepos:"76114"},{provinsi:"Kalimantan Timur",kabupaten:"Balikpapan",kecamatan:"Balikpapan Kota",kelurahan:"Klandasan Ilir",kodepos:"76113"},{provinsi:"Kalimantan Timur",kabupaten:"Balikpapan",kecamatan:"Balikpapan Kota",kelurahan:"Klandasan Ulu",kodepos:"76112"},{provinsi:"Kalimantan Timur",kabupaten:"Balikpapan",kecamatan:"Balikpapan Kota",kelurahan:"Prapatan",kodepos:"76111"},{provinsi:"Kalimantan Timur",kabupaten:"Balikpapan",kecamatan:"Balikpapan Kota",kelurahan:"Telaga Sari",kodepos:"76111"},{provinsi:"Kalimantan Timur",kabupaten:"Balikpapan",kecamatan:"Balikpapan Timur",kelurahan:"Manggar",kodepos:"76116"},{provinsi:"Kalimantan Timur",kabupaten:"Balikpapan",kecamatan:"Balikpapan Timur",kelurahan:"Manggar Baru",kodepos:"76116"},{provinsi:"Kalimantan Timur",kabupaten:"Balikpapan",kecamatan:"Balikpapan Timur",kelurahan:"Lamaru",kodepos:"76117"},{provinsi:"Kalimantan Timur",kabupaten:"Balikpapan",kecamatan:"Balikpapan Timur",kelurahan:"Teritip",kodepos:"76118"},{provinsi:"Kalimantan Timur",kabupaten:"Balikpapan",kecamatan:"Balikpapan Barat",kelurahan:"Baru Ilir",kodepos:"76131"},{provinsi:"Kalimantan Timur",kabupaten:"Balikpapan",kecamatan:"Balikpapan Barat",kelurahan:"Baru Tengah",kodepos:"76132"},{provinsi:"Kalimantan Timur",kabupaten:"Balikpapan",kecamatan:"Balikpapan Barat",kelurahan:"Baru Ulu",kodepos:"76133"},{provinsi:"Kalimantan Timur",kabupaten:"Balikpapan",kecamatan:"Balikpapan Barat",kelurahan:"Kariangau",kodepos:"76134"},{provinsi:"Kalimantan Timur",kabupaten:"Balikpapan",kecamatan:"Balikpapan Barat",kelurahan:"Margasari",kodepos:"76131"},{provinsi:"Kalimantan Timur",kabupaten:"Balikpapan",kecamatan:"Balikpapan Barat",kelurahan:"Margo Mulyo",kodepos:"76131"},{provinsi:"Kalimantan Timur",kabupaten:"Balikpapan",kecamatan:"Balikpapan Utara",kelurahan:"Batu Ampar",kodepos:"76136"},{provinsi:"Kalimantan Timur",kabupaten:"Balikpapan",kecamatan:"Balikpapan Utara",kelurahan:"Gunung Samarinda",kodepos:"76125"},{provinsi:"Kalimantan Timur",kabupaten:"Balikpapan",kecamatan:"Balikpapan Utara",kelurahan:"Gunung Samarinda Baru",kodepos:"76128"},{provinsi:"Kalimantan Timur",kabupaten:"Balikpapan",kecamatan:"Balikpapan Utara",kelurahan:"Karang Joang",kodepos:"76127"},{provinsi:"Kalimantan Timur",kabupaten:"Balikpapan",kecamatan:"Balikpapan Utara",kelurahan:"Muara Rapak",kodepos:"76125"},{provinsi:"Kalimantan Timur",kabupaten:"Balikpapan",kecamatan:"Balikpapan Utara",kelurahan:"Graha Indah",kodepos:"76129"},{provinsi:"Kalimantan Timur",kabupaten:"Balikpapan",kecamatan:"Balikpapan Tengah",kelurahan:"Gunung Sari Ilir",kodepos:"76121"},{provinsi:"Kalimantan Timur",kabupaten:"Balikpapan",kecamatan:"Balikpapan Tengah",kelurahan:"Gunung Sari Ulu",kodepos:"76122"},{provinsi:"Kalimantan Timur",kabupaten:"Balikpapan",kecamatan:"Balikpapan Tengah",kelurahan:"Karang Jati",kodepos:"76123"},{provinsi:"Kalimantan Timur",kabupaten:"Balikpapan",kecamatan:"Balikpapan Tengah",kelurahan:"Karang Rejo",kodepos:"76124"},{provinsi:"Kalimantan Timur",kabupaten:"Balikpapan",kecamatan:"Balikpapan Tengah",kelurahan:"Mekar Sari",kodepos:"76122"},{provinsi:"Kalimantan Timur",kabupaten:"Balikpapan",kecamatan:"Balikpapan Tengah",kelurahan:"Sumber Rejo",kodepos:"76124"}],la=({value:l,onValueChange:m})=>{const[o,r]=p.useState(!1),[s,b]=p.useState("Kalimantan Timur"),[e,K]=p.useState("Balikpapan"),[u,j]=p.useState(""),[T,d]=p.useState(""),[S,c]=p.useState(""),[C,w]=p.useState(""),[f,N]=p.useState(""),[D,A]=p.useState(""),F=[...new Set(k.map(n=>n.provinsi))],y=[...new Set(k.filter(n=>n.provinsi===s).map(n=>n.kabupaten))],I=[...new Set(k.filter(n=>n.kabupaten===e).map(n=>n.kecamatan))],G=[...new Set(k.filter(n=>n.kecamatan===u).map(n=>n.kelurahan))],J=n=>{d(n);const P=k.find(M=>M.kelurahan===n&&M.kecamatan===u);P&&c(P.kodepos)};return a.jsxs(q,{open:o,onOpenChange:r,children:[a.jsx(H,{children:a.jsx($,{value:l,onChange:n=>m?.(n.target.value)})}),a.jsxs(z,{children:[a.jsxs(Q,{children:[a.jsx(X,{children:"Tempat Tinggal"}),a.jsx(Y,{children:"Alamat lengkap tempat tinggal"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 py-4",children:[a.jsx(i,{label:"Provinsi",children:a.jsxs(h,{value:s,onValueChange:n=>{b(n),K(""),j(""),d(""),c("")},children:[a.jsx(B,{children:a.jsx(g,{placeholder:"Pilih provinsi"})}),a.jsx(v,{children:F.map(n=>a.jsx(x,{value:n,children:n},n))})]})}),a.jsx(i,{label:"Kabupaten / Kota",children:a.jsxs(h,{value:e,onValueChange:n=>{K(n),j(""),d(""),c("")},children:[a.jsx(B,{children:a.jsx(g,{placeholder:"Pilih kabupaten / kota"})}),a.jsx(v,{children:y.map(n=>a.jsx(x,{value:n,children:n},n))})]})}),a.jsx(i,{label:"Kecamatan",children:a.jsxs(h,{value:u,onValueChange:n=>{j(n),d(""),c("")},children:[a.jsx(B,{children:a.jsx(g,{placeholder:"Pilih kecamatan"})}),a.jsx(v,{children:I.map(n=>a.jsx(x,{value:n,children:n},n))})]})}),a.jsx(i,{label:"Kelurahan",children:a.jsxs(h,{value:T,onValueChange:J,children:[a.jsx(B,{children:a.jsx(g,{placeholder:"Pilih kelurahan"})}),a.jsx(v,{children:G.map(n=>a.jsx(x,{value:n,children:n},n))})]})}),a.jsx(i,{label:"Jalan / Perumahan & No. Rumah",children:a.jsx(t,{placeholder:"Contoh: Jl. Durian No. 88",value:C,onChange:n=>w(n.target.value)})}),a.jsx(i,{label:"RT",children:a.jsx(t,{placeholder:"Misal: 01",value:f,onChange:n=>N(n.target.value)})}),a.jsx(i,{label:"RW",children:a.jsx(t,{placeholder:"Misal: 04",value:D,onChange:n=>A(n.target.value)})}),a.jsx(i,{label:"Kode Pos",children:a.jsx(t,{placeholder:"Kode Pos",value:S,readOnly:!0})})]}),a.jsxs(Z,{className:"flex flex-1 justify-between",children:[a.jsx(_,{asChild:!0,children:a.jsx(W,{variant:"secondary",children:"Batal"})}),a.jsx(U,{onClick:()=>{const n=E(s,e,u,T,C,f,D,S);m?.(n),r(!1)}})]})]})]})},Oa=()=>{const{student:l,permissions:m}=L().props,{data:o,setData:r,put:s}=V({phone:l.phone??"",email:l.email??"",address:l.address??""}),b=()=>{s(route("ppdb.update",l.id),{preserveScroll:!0,onSuccess:()=>R.success("Alamat berhasil disimpan!"),onError:e=>R.error(O(e))})};return a.jsx(pa,{title:"Kontak siswa",description:"Nomor telepon, email dan Alamat tempat tinggal siswa",children:a.jsxs(aa,{children:[a.jsx(na,{children:a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsx(i,{label:"Nomor telepon",children:a.jsx(t,{placeholder:"Masukkan nomor telepon",value:o.phone,onChange:e=>r("phone",e.target.value)})}),a.jsx(i,{label:"Alamat email",children:a.jsx(t,{type:"email",placeholder:"Masukkan alamat email",value:o.email,onChange:e=>r("email",e.target.value)})}),a.jsx(i,{label:"Alamat tempat tinggal",className:"col-span-full",required:!0,children:a.jsx(la,{value:o.address,onValueChange:e=>r("address",e)})})]})}),m?.canUpdate&&a.jsxs(a.Fragment,{children:[a.jsx(ia,{}),a.jsx(ea,{children:a.jsx(U,{label:"Simpan data kontak",onClick:b})})]})]})})};export{Oa as default};
