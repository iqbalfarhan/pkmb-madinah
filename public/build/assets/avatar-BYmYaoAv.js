import{r as l,j as S,h as $}from"./app-Beaih4zB.js";import{u as M}from"./index-CIR5_G4b.js";import{u as A}from"./index-CPHbYJ1Z.js";import{P as y}from"./index-BC4v7-Zn.js";import{a as L}from"./utils-AQsCDXKq.js";function q(e,r=[]){let o=[];function i(t,c){const a=l.createContext(c);a.displayName=t+"Context";const s=o.length;o=[...o,c];const f=n=>{const{scope:d,children:v,...m}=n,p=d?.[e]?.[s]||a,g=l.useMemo(()=>m,Object.values(m));return S.jsx(p.Provider,{value:g,children:v})};f.displayName=t+"Provider";function x(n,d){const v=d?.[e]?.[s]||a,m=l.useContext(v);if(m)return m;if(c!==void 0)return c;throw new Error(`\`${n}\` must be used within \`${t}\``)}return[f,x]}const u=()=>{const t=o.map(c=>l.createContext(c));return function(a){const s=a?.[e]||t;return l.useMemo(()=>({[`__scope${e}`]:{...a,[e]:s}}),[a,s])}};return u.scopeName=e,[i,F(u,...r)]}function F(...e){const r=e[0];if(e.length===1)return r;const o=()=>{const i=e.map(u=>({useScope:u(),scopeName:u.scopeName}));return function(t){const c=i.reduce((a,{useScope:s,scopeName:f})=>{const n=s(t)[`__scope${f}`];return{...a,...n}},{});return l.useMemo(()=>({[`__scope${r.scopeName}`]:c}),[c])}};return o.scopeName=r.scopeName,o}var h={exports:{}},E={};var C;function z(){if(C)return E;C=1;var e=$();function r(n,d){return n===d&&(n!==0||1/n===1/d)||n!==n&&d!==d}var o=typeof Object.is=="function"?Object.is:r,i=e.useState,u=e.useEffect,t=e.useLayoutEffect,c=e.useDebugValue;function a(n,d){var v=d(),m=i({inst:{value:v,getSnapshot:d}}),p=m[0].inst,g=m[1];return t(function(){p.value=v,p.getSnapshot=d,s(p)&&g({inst:p})},[n,v,d]),u(function(){return s(p)&&g({inst:p}),n(function(){s(p)&&g({inst:p})})},[n]),c(v),v}function s(n){var d=n.getSnapshot;n=n.value;try{var v=d();return!o(n,v)}catch{return!0}}function f(n,d){return d()}var x=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:a;return E.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:x,E}var _;function H(){return _||(_=1,h.exports=z()),h.exports}var T=H();function U(){return T.useSyncExternalStore(V,()=>!0,()=>!1)}function V(){return()=>{}}var w="Avatar",[B]=q(w),[D,j]=B(w),R=l.forwardRef((e,r)=>{const{__scopeAvatar:o,...i}=e,[u,t]=l.useState("idle");return S.jsx(D,{scope:o,imageLoadingStatus:u,onImageLoadingStatusChange:t,children:S.jsx(y.span,{...i,ref:r})})});R.displayName=w;var I="AvatarImage",k=l.forwardRef((e,r)=>{const{__scopeAvatar:o,src:i,onLoadingStatusChange:u=()=>{},...t}=e,c=j(I,o),a=G(i,t),s=M(f=>{u(f),c.onImageLoadingStatusChange(f)});return A(()=>{a!=="idle"&&s(a)},[a,s]),a==="loaded"?S.jsx(y.img,{...t,ref:r,src:i}):null});k.displayName=I;var N="AvatarFallback",P=l.forwardRef((e,r)=>{const{__scopeAvatar:o,delayMs:i,...u}=e,t=j(N,o),[c,a]=l.useState(i===void 0);return l.useEffect(()=>{if(i!==void 0){const s=window.setTimeout(()=>a(!0),i);return()=>window.clearTimeout(s)}},[i]),c&&t.imageLoadingStatus!=="loaded"?S.jsx(y.span,{...u,ref:r}):null});P.displayName=N;function b(e,r){return e?r?(e.src!==r&&(e.src=r),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function G(e,{referrerPolicy:r,crossOrigin:o}){const i=U(),u=l.useRef(null),t=i?(u.current||(u.current=new window.Image),u.current):null,[c,a]=l.useState(()=>b(t,e));return A(()=>{a(b(t,e))},[t,e]),A(()=>{const s=n=>()=>{a(n)};if(!t)return;const f=s("loaded"),x=s("error");return t.addEventListener("load",f),t.addEventListener("error",x),r&&(t.referrerPolicy=r),typeof o=="string"&&(t.crossOrigin=o),()=>{t.removeEventListener("load",f),t.removeEventListener("error",x)}},[t,o,r]),c}var O=R,K=k,W=P;function ee({className:e,...r}){return S.jsx(O,{"data-slot":"avatar",className:L("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...r})}function te({className:e,...r}){return S.jsx(K,{"data-slot":"avatar-image",className:L("aspect-square size-full",e),...r})}function re({className:e,...r}){return S.jsx(W,{"data-slot":"avatar-fallback",className:L("bg-muted flex size-full items-center justify-center rounded-full",e),...r})}export{ee as A,te as a,re as b};
