import{b as y,j as i}from"./app-Hu6ZSmMv.js";import{B as v}from"./back-button-CNaKQCTT.js";import{F as m}from"./form-control-CWugdIK3.js";import{M as w}from"./money-input-D8ACeOUD.js";import{S as F}from"./submit-button-BiT_NFj3.js";import{C as p,a as c,b as h,e as u,c as l,d as P}from"./card-9vH-UqcU.js";import{C as x}from"./checkbox-CV_ZKtfG.js";import{L as j}from"./label-RLu7r6YT.js";import{S as T,a as A,b as I,c as D,d as L}from"./select-Bsq7hVBF.js";import{S as g}from"./separator-DHdD8KpX.js";import{T as V}from"./textarea-_oclQYXw.js";import{A as E}from"./app-layout-_OUpBTp2.js";import{g as M,t as b,e as R}from"./utils-YM85MZUJ.js";import{A as H}from"./arrow-right-5oF64YUa.js";/* empty css            */import"./button-c_IbQZf9.js";import"./index-RmLnfBQh.js";import"./index-Br0Czdh9.js";import"./index-Spl2zLNs.js";import"./arrow-left-DpwMoDL3.js";import"./createLucideIcon-cWmMfeL9.js";import"./input-D2HXZ4br.js";import"./loader-circle-CW1cRkB1.js";import"./check-BCaBFrbj.js";import"./index-CbVqcrm4.js";import"./index-BKg_rXf-.js";import"./index-Dc2czlJ9.js";import"./index-BEjgBMaz.js";import"./index-DCKh1a0k.js";import"./index-CWioStG5.js";import"./index-BdQq_4o_.js";import"./index-CgFoOD2F.js";import"./index-BIdsUIjH.js";import"./index-mBtirn6x.js";import"./index-ByLd54os.js";import"./index-zbdqVNW2.js";import"./index-BE6h3Llp.js";import"./index-BqTSeWh0.js";import"./chevron-down-B0joq10T.js";import"./theme-toggler-Bjz2pxYl.js";import"./use-mobile-BWukmWzq.js";import"./app-logo-Dqg0Wy_7.js";import"./sheet-CC91FveP.js";import"./index-CaZfQ-7M.js";import"./x-DDrvkcTw.js";import"./scroll-area-B03JwO-V.js";import"./app-logo-icon-Dqtp_Zfl.js";import"./index-BYFLkXZE.js";import"./chevron-right-DkUwgy6I.js";import"./avatar-AblD0fRZ.js";import"./book-open-DZWGrtC1.js";import"./wallet-BbkpMWzF.js";import"./folder-CagXSOAv.js";import"./book-ChEXPCz3.js";const Oi=({students:o=[],paymenttypes:d=[],classrooms:f=[]})=>{const{data:e,setData:s,post:C,processing:k}=y({student_ids:[],payment_type_id:"",amount:0,description:""}),_=()=>{C(route("bill.bulk.create"),{preserveScroll:!0,onSuccess:()=>b.success("Berhasil membuat beberapa tagihan"),onError:r=>b.error(R(r))})},S=M(o,"classroom_id");return i.jsx(E,{title:"Buat tagihan sekaligus",description:"Buat tagihan sekaligus untuk banyak siswa",actions:i.jsx(i.Fragment,{children:i.jsx(v,{})}),children:i.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[i.jsxs(p,{children:[i.jsxs(c,{children:[i.jsx(h,{children:"Pilih siswa"}),i.jsx(u,{children:"Pilih siswa dari list berikut ini"})]}),i.jsx(l,{children:i.jsxs(j,{className:"space-x-2",children:[i.jsx(x,{checked:e.student_ids.length===o.length,onCheckedChange:r=>{r?s("student_ids",o.map(t=>t.id)):s("student_ids",[])}}),i.jsx("span",{children:"Pilih semua siswa"})]})}),i.jsx(g,{}),i.jsx(l,{children:i.jsx("div",{className:"grid gap-6",children:Object.entries(S).map(([r,t])=>{const n=f.find(a=>a.id===Number(r));return i.jsxs("div",{className:"grid gap-4",children:[i.jsx("h2",{children:n?.name}),t.map(a=>i.jsxs(j,{className:"space-x-2",children:[i.jsx(x,{value:a.id,checked:e.student_ids.includes(a.id),onCheckedChange:N=>{N?s("student_ids",[...e.student_ids,a.id]):s("student_ids",e.student_ids.filter(B=>B!==a.id))}}),i.jsx("span",{children:a.name})]}))]})})})})]}),i.jsxs(p,{className:"lg:col-span-2",children:[i.jsxs(c,{children:[i.jsx(h,{children:"Informasi tagihan"}),i.jsx(u,{children:"Isi jenis tagihan dan deskripsi tagihan"})]}),i.jsx(g,{}),i.jsx(l,{className:"flex-1",children:i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(m,{label:"Pilih jenis pembayaran",children:i.jsxs(T,{value:e.payment_type_id.toString(),onValueChange:r=>{s("payment_type_id",r);const t=d.find(n=>n.id===Number(r));s("amount",t?.default_amount),s("description",`Tagihan untuk pembayaran ${t?.name}`)},children:[i.jsx(A,{children:i.jsx(I,{placeholder:"Pilih jenis tagihan"})}),i.jsx(D,{children:d.map(r=>i.jsx(L,{value:r.id.toString(),children:r.name},r.id))})]})}),i.jsx(m,{label:"Nominal pembayaran",children:i.jsx(w,{value:e.amount?e.amount:0,onValueChange:r=>r?s("amount",Number(r)):void 0})}),i.jsx(m,{label:"Deskripsi",className:"lg:col-span-full",children:i.jsx(V,{value:e.description,onChange:r=>s("description",r.target.value)})})]})}),i.jsx(P,{children:i.jsx(F,{icon:H,onClick:_,label:"Buat tagihan",loading:k})})]})]})})};export{Oi as default};
