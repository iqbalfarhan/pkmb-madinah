import{u as R,b as y,r as v,j as a}from"./app-dz0jE2tU.js";import{B as p}from"./button-Byo4z3ov.js";import{C as j,a as u,b as f,e as b,c as g,d as B}from"./card-BqIdIE6l.js";import{S as D}from"./separator-D_pRnYGF.js";import{T as F,a as H,b as c,c as o,d as E,e as n}from"./table-BylyW0aR.js";import{T as P}from"./textarea-Cn-FV1wX.js";import{t as C,e as _,g as A}from"./utils-OtLJS9H7.js";import w from"./report-header-Dg0JxK4W.js";import I from"./report-student-card-PxteWLO5.js";import J from"./report-tahfidz-form-sheet-D3rV0Y5z.js";import{C as K}from"./check-CfJLCO3r.js";import{S as L}from"./square-pen-DVXlo6N1.js";import{T as $}from"./trash-2-PsfDENsc.js";import{P as q}from"./plus-AahFyetB.js";/* empty css            */import"./index-DGg2DMfk.js";import"./index-b4mQHDbq.js";import"./index-CgwvFoK0.js";import"./form-control-DwByjXSb.js";import"./label--GxPAVK3.js";import"./submit-button--t3-Mev0.js";import"./loader-circle-BLjnyEYu.js";import"./createLucideIcon-C-ROyH-3.js";import"./scroll-area-clw_4t_c.js";import"./index-ev0t4NrY.js";import"./index-BxIqqHce.js";import"./index-DvCefSxK.js";import"./index-Dqq3-Hde.js";import"./index-BdQq_4o_.js";import"./index-Ctz8R4EN.js";import"./select-bhtx00JO.js";import"./index-DWjMiU3t.js";import"./index-T039h1na.js";import"./index-BUgqETVT.js";import"./index-Dj_2CI02.js";import"./index-BNnFoo7H.js";import"./index-XQKsc95e.js";import"./index-ClhYAN2Y.js";import"./chevron-down-CFcWnqNE.js";import"./sheet-C7jfJYbD.js";import"./index-DKfrrGNB.js";import"./x-CEWBcBdD.js";import"./enums-C02uj7LO.js";const Ea=({data:i})=>{const{report:h}=R().props,{data:e,setData:d,put:x}=y({data:i}),T=v.useCallback(()=>{x(route("report.update",h.id),{preserveScroll:!0,onSuccess:()=>{C.success("Rapor berhasil disimpan")},onError:r=>C.error(_(r))})},[x,h.id]),S=(r,t)=>{const s=[...e.data.nilai];s[r]=t,d("data.nilai",s)},z=r=>{const t=[...e.data.nilai];t.splice(r,1),d("data.nilai",t)},N=()=>{const r=[...e.data.nilai,{juz:"",surah:"",pencapaian:"",keterangan:""}];d("data.nilai",r)},k=A(e.data.nilai,"juz");return a.jsxs(a.Fragment,{children:[a.jsx(w,{}),a.jsxs(p,{onClick:T,className:"fixed right-6 bottom-6",children:[a.jsx(K,{}),"Simpan"]}),a.jsx(I,{student_name:i.nama,student_age:i.usia,student_nisn:i.nisn,classroom_name:i.kelas}),a.jsxs(j,{children:[a.jsxs(u,{children:[a.jsx(f,{children:"List hafalan"}),a.jsx(b,{children:"List hafalan yang sudah dihafal siswa"})]}),a.jsx(g,{children:a.jsxs(F,{children:[a.jsx(H,{children:a.jsxs(c,{children:[a.jsx(o,{children:"No"}),a.jsx(o,{children:"Nama Surah"}),a.jsx(o,{children:"Kemampuan yang Dicapai"}),a.jsx(o,{children:"Keterangan Ayat"}),a.jsx(o,{children:"Actions"})]})}),a.jsx(E,{children:Object.entries(k).map(([r,t])=>a.jsxs(a.Fragment,{children:[r!==""&&a.jsx(c,{children:a.jsxs(n,{colSpan:5,className:"bg-muted text-center text-muted-foreground",children:["Hafalan Juz ",r]})}),t.map(s=>{const m=e.data.nilai.findIndex(l=>l.surah===s.surah&&l.juz===s.juz);return a.jsxs(c,{children:[a.jsx(n,{children:m+1}),a.jsx(n,{children:s.surah}),a.jsx(n,{children:s.pencapaian}),a.jsx(n,{children:s.keterangan}),a.jsxs(n,{children:[a.jsx(J,{purpose:"edit",data:s,onSubmit:l=>S(m,l),children:a.jsx(p,{variant:"ghost",size:"icon",children:a.jsx(L,{})})}),a.jsx(p,{variant:"ghost",size:"icon",onClick:()=>z(m),children:a.jsx($,{})})]})]},`${s.juz}-${s.surah}`)})]}))})]})}),a.jsx(B,{children:a.jsxs(p,{onClick:N,children:[a.jsx(q,{})," Tambah baris"]})})]}),a.jsxs(j,{children:[a.jsxs(u,{children:[a.jsx(f,{children:"Catatan"}),a.jsxs(b,{children:["Catatan dari pembina tahfidz ",i.pembimbing]})]}),a.jsx(D,{}),a.jsx(g,{children:a.jsx(P,{value:e.data.catatan,onChange:r=>d("data.catatan",r.target.value)})})]})]})};export{Ea as default};
