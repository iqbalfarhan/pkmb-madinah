import{r as u,b as f,j as e}from"./app-mT68Usca.js";import{F as m}from"./form-control-DAtoZjFr.js";import{S as j}from"./submit-button-CNGbbzXR.js";import{A as x,a as g,b as S}from"./alert-CVgjIsG4.js";import{B as b}from"./button-BYwRdR8e.js";import{I as v}from"./input-BHosVhc9.js";import{S as C}from"./scroll-area-5pc4AMWa.js";import{S as k,a as P,b as U,c as A,d as t}from"./select-Cl0LtNca.js";import{S as F,a as w,b as y,c as D,d as I,e as M,f as N,g as B}from"./sheet-CjdJkIqQ.js";import{t as p,e as E}from"./utils-9QsC_giN.js";import{I as K}from"./info-DnSoFqR5.js";import{X as T}from"./x-D2-vZaQx.js";/* empty css            */import"./label-D7Zi3meY.js";import"./index-DOZ_tRGL.js";import"./index-D9NvIf0Z.js";import"./loader-circle--_LsJh4T.js";import"./createLucideIcon-BnVZIvx9.js";import"./check-rfSnMvnL.js";import"./index-C8PizVFV.js";import"./index-B7YYtRBc.js";import"./index-BuYQV8rZ.js";import"./index-C3H18oAA.js";import"./index-DWGN2DGu.js";import"./index-BdQq_4o_.js";import"./index-BZKW8UZP.js";import"./index-Vl6yZPV4.js";import"./index-BjPohRpL.js";import"./index-DnFA-r4L.js";import"./index-B1IJOoa7.js";import"./index-ushqBRcg.js";import"./index-CwrKRsB6.js";import"./index-BQ8O8fWQ.js";import"./chevron-down-DLmWyxzd.js";import"./index-7axaeUY_.js";const Se=({student:s,children:c})=>{const[d,o]=u.useState(!1),{data:r,setData:i,post:h,processing:l}=f({collection_name:"",file:void 0}),n=()=>{h(route("student.upload-media",s.id),{preserveScroll:!0,onSuccess:()=>{p.success("Media uploaded successfully"),i("file",void 0),o(!1)},onError:a=>p.error(E(a))})};return e.jsxs(F,{open:d,onOpenChange:o,children:[e.jsx(w,{asChild:!0,children:c}),e.jsxs(y,{children:[e.jsxs(D,{children:[e.jsx(I,{children:"Upload Media"}),e.jsx(M,{children:"Upload media to student"})]}),e.jsx(C,{className:"flex-1 overflow-y-auto",children:e.jsxs("form",{className:"space-y-6 px-4",onSubmit:a=>{a.preventDefault(),n()},children:[e.jsx(m,{label:"Pilih jenis file",children:e.jsxs(k,{value:r.collection_name,onValueChange:a=>i("collection_name",a),required:!0,children:[e.jsx(P,{children:e.jsx(U,{placeholder:"Pilih jenis file"})}),e.jsxs(A,{children:[e.jsx(t,{value:"kartu keluarga",children:"Kartu Keluarga"}),e.jsx(t,{value:"akta kelahiran",children:"Akta Kelahiran"}),e.jsx(t,{value:"photo siswa",children:"Photo siswa"})]})]})}),e.jsxs(m,{label:"Pilih file",children:[e.jsx(v,{type:"file",onChange:a=>i("file",a.target.files?.[0]),accept:"image/*"}),r.file&&e.jsx("img",{src:URL.createObjectURL(r.file)})]}),e.jsx("div",{className:"grid grid-cols-3 gap-1",children:s.media?.map(a=>e.jsx("img",{src:a.preview_url,alt:a.name,className:"aspect-square w-full object-cover"},a.id))})]})}),e.jsxs(N,{children:[e.jsxs(x,{children:[e.jsx(K,{}),e.jsx(g,{children:"Ketentuan upload file"}),e.jsx(S,{children:"File yang dapat diupload adalah file dengan ekstensi PDF dan file gambar (JPG, PNG, JPEG) dengan ukurang tidak lebih dari 2Mb."})]}),e.jsx(j,{onClick:n,label:"Upload media",loading:l,disabled:l}),e.jsx(B,{asChild:!0,children:e.jsxs(b,{variant:"outline",children:[e.jsx(T,{})," Batalin"]})})]})]})]})};export{Se as default};
