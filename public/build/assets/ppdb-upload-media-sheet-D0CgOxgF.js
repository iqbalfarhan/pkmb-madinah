import{r as u,b as x,j as e}from"./app-CzQVzdmc.js";import{F as n}from"./form-control-Dk2-VdaC.js";import{S as j}from"./submit-button-D_dLBHOk.js";import{B as f}from"./button-CU_mGtAv.js";import{I as S}from"./input-2WhRZJo3.js";import{S as g}from"./scroll-area-D3KVIJ-R.js";import{S as v,a as b,b as C,c as U,d as o}from"./select-Bcz8dqO4.js";import{S as k,a as w,b as P,c as y,d as B,e as F,f as M,g as N}from"./sheet-C5lK2Zut.js";import{t as m,e as _}from"./utils-hZ0mFl5V.js";import{X as D}from"./x-gsRosU7o.js";/* empty css            */import"./label-DuQbsmPr.js";import"./index-DX_iff6I.js";import"./index-DovcoTDN.js";import"./loader-circle-skiWcYTM.js";import"./createLucideIcon-CUS7vqFQ.js";import"./check-mUbLxOvB.js";import"./index-CsSVv123.js";import"./index-CHxR0mwP.js";import"./index-1hpOEd7n.js";import"./index-C5dZXH5d.js";import"./index-D_lVdEEm.js";import"./index-BdQq_4o_.js";import"./index-DNkflAsx.js";import"./index-Dj2pZVBI.js";import"./index-BjHXrk86.js";import"./index-C1FemZb5.js";import"./index-BkwV9jm3.js";import"./index-CC_0_2vE.js";import"./index-DyPvs_BG.js";import"./index-CS7ii-Zp.js";import"./chevron-down-DTt69vb1.js";import"./index-CrnezDAU.js";const he=({student:i,children:p})=>{const[d,s]=u.useState(!1),{data:t,setData:a,post:h,processing:l}=x({collection_name:"",file:void 0}),c=()=>{h(route("student.upload-media",i.id),{preserveScroll:!0,onSuccess:()=>{m.success("Media uploaded successfully"),a("file",void 0),s(!1)},onError:r=>m.error(_(r))})};return e.jsxs(k,{open:d,onOpenChange:s,children:[e.jsx(w,{asChild:!0,children:p}),e.jsxs(P,{children:[e.jsxs(y,{children:[e.jsx(B,{children:"Upload Media"}),e.jsx(F,{children:"Upload media to student"})]}),e.jsx(g,{className:"flex-1 overflow-y-auto",children:e.jsxs("form",{className:"space-y-6 px-4",onSubmit:r=>{r.preventDefault(),c()},children:[e.jsx(n,{label:"Pilih collection",children:e.jsxs(v,{value:t.collection_name,onValueChange:r=>a("collection_name",r),required:!0,children:[e.jsx(b,{children:e.jsx(C,{placeholder:"Pilih collection"})}),e.jsxs(U,{children:[e.jsx(o,{value:"kartu keluarga",children:"Kartu Keluarga"}),e.jsx(o,{value:"akta kelahiran",children:"Akta Kelahiran"}),e.jsx(o,{value:"photo siswa",children:"Photo siswa"})]})]})}),e.jsxs(n,{label:"Pilih file",children:[e.jsx(S,{type:"file",onChange:r=>a("file",r.target.files?.[0]),accept:"image/*"}),t.file&&e.jsx("img",{src:URL.createObjectURL(t.file)})]}),e.jsx("div",{className:"grid grid-cols-3 gap-1",children:i.media?.map(r=>e.jsx("img",{src:r.preview_url,alt:r.name,className:"aspect-square w-full object-cover"},r.id))})]})}),e.jsxs(M,{children:[e.jsx(j,{onClick:c,label:"Upload media",loading:l,disabled:l}),e.jsx(N,{asChild:!0,children:e.jsxs(f,{variant:"outline",children:[e.jsx(D,{})," Batalin"]})})]})]})]})};export{he as default};
