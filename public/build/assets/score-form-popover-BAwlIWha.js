import{r as h,u as j,b as S,j as r}from"./app-DcIBRsLW.js";import{F as p}from"./form-control-CLyWpSzJ.js";import{S as v}from"./submit-button-BeeNg6rs.js";import{B as b}from"./button-BHayiiQk.js";import{I as C}from"./input-Ds_pCqdZ.js";import{P,a as u,b as _}from"./popover-B6jtSaxd.js";import{T as k}from"./textarea-Bj3OGao8.js";import{t as s,e as c}from"./utils-C5ZhllyX.js";/* empty css            */import"./label-Dk4hXNE8.js";import"./index-CBUk3eC4.js";import"./index-C6cGwo-U.js";import"./loader-circle-B8TsGvSd.js";import"./createLucideIcon-BU0hAwVN.js";import"./check-B8PMkhu0.js";import"./index-CU967_Ze.js";import"./index-Ch_-Gjtq.js";import"./index-4fwAXKrg.js";import"./index-DcM6Nda1.js";import"./index-BlTZnHeu.js";import"./index-BaPVbBff.js";import"./index-B9ZLRWFs.js";import"./index-ByyzoEsy.js";import"./index-DBjXRdXg.js";const X=({children:m,score:o,options:t})=>{const[l,a]=h.useState(!1),{permissions:d}=j().props,{data:i,setData:n,post:x,put:f}=S({student_id:t?.student_id,lesson_id:t?.lesson_id,assignment_id:t?.assignment_id,score:o?.score??"0",remark:o?.remark??""}),g=()=>{o?f(route("score.update",o.id),{preserveScroll:!0,onSuccess:()=>{s.success("Score updated"),a(!1)},onError:e=>s.error(c(e))}):x(route("score.store"),{preserveScroll:!0,onSuccess:()=>{s.success("Score created"),a(!1)},onError:e=>s.error(c(e))})};return r.jsxs(P,{open:l,onOpenChange:a,children:[m?r.jsx(u,{asChild:!0,children:m}):r.jsx(u,{children:r.jsx(b,{variant:"ghost",size:"icon",children:i.score})}),d?.canUpdate&&r.jsx(_,{children:r.jsxs("form",{className:"space-y-6",onSubmit:e=>{e.preventDefault(),g()},children:[r.jsx(p,{label:"Nilai siswa",children:r.jsx(C,{value:i.score,onChange:e=>n("score",e.target.value)})}),r.jsx(p,{label:"Komentar guru",children:r.jsx(k,{placeholder:"tulis komentar guru disini",value:i.remark,onChange:e=>n("remark",e.target.value)})}),r.jsx(v,{})]})})]})};export{X as default};
