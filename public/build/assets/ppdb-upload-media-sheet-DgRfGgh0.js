import{r as u,b as f,j as e}from"./app-LyGvcr7U.js";import{F as m}from"./form-control-DXscECJc.js";import{S as j}from"./submit-button-DDPRynVa.js";import{A as x,a as g,b as S}from"./alert-B_ePlo1h.js";import{B as b}from"./button-mPrn67Vr.js";import{I as v}from"./input-BdOwFvUG.js";import{S as C}from"./scroll-area-CJcVDr5N.js";import{S as k,a as P,b as U,c as A,d as t}from"./select-CXw9J9Gu.js";import{S as F,a as w,b as y,c as D,d as I,e as M,f as N,g as B}from"./sheet-D7FMEkGs.js";import{t as p,e as E}from"./utils-BE92p8AA.js";import{I as K}from"./info-mMhHQUvF.js";import{X as T}from"./x-B2x8d6cQ.js";/* empty css            */import"./label-OISDCsZI.js";import"./index-B3fxMF_n.js";import"./index-DIFs2Ekb.js";import"./loader-circle-MJ28zMvo.js";import"./createLucideIcon-m2Wqdp_8.js";import"./check-WvNk7E2D.js";import"./index-CURA5CXT.js";import"./index-bi_hI1OZ.js";import"./index-DvPKIDCh.js";import"./index-CNRvfx7p.js";import"./index-Dxz7BvKz.js";import"./index-BdQq_4o_.js";import"./index-pW2OFe7l.js";import"./index-BcnpGIXJ.js";import"./index-B8EfbZu8.js";import"./index-DLom2Esu.js";import"./index-DcphQMcR.js";import"./index-DcpBCnvq.js";import"./index-DDMugbZL.js";import"./index-BYJ9au6i.js";import"./chevron-down-Cb3weyy0.js";import"./index-D4XjA2ki.js";const Se=({student:s,children:c})=>{const[d,o]=u.useState(!1),{data:r,setData:i,post:h,processing:l}=f({collection_name:"",file:void 0}),n=()=>{h(route("student.upload-media",s.id),{preserveScroll:!0,onSuccess:()=>{p.success("Media uploaded successfully"),i("file",void 0),o(!1)},onError:a=>p.error(E(a))})};return e.jsxs(F,{open:d,onOpenChange:o,children:[e.jsx(w,{asChild:!0,children:c}),e.jsxs(y,{children:[e.jsxs(D,{children:[e.jsx(I,{children:"Upload Media"}),e.jsx(M,{children:"Upload media to student"})]}),e.jsx(C,{className:"flex-1 overflow-y-auto",children:e.jsxs("form",{className:"space-y-6 px-4",onSubmit:a=>{a.preventDefault(),n()},children:[e.jsx(m,{label:"Pilih jenis file",children:e.jsxs(k,{value:r.collection_name,onValueChange:a=>i("collection_name",a),required:!0,children:[e.jsx(P,{children:e.jsx(U,{placeholder:"Pilih jenis file"})}),e.jsxs(A,{children:[e.jsx(t,{value:"kartu keluarga",children:"Kartu Keluarga"}),e.jsx(t,{value:"akta kelahiran",children:"Akta Kelahiran"}),e.jsx(t,{value:"photo siswa",children:"Photo siswa"})]})]})}),e.jsxs(m,{label:"Pilih file",children:[e.jsx(v,{type:"file",onChange:a=>i("file",a.target.files?.[0]),accept:"image/*"}),r.file&&e.jsx("img",{src:URL.createObjectURL(r.file)})]}),e.jsx("div",{className:"grid grid-cols-3 gap-1",children:s.media?.map(a=>e.jsx("img",{src:a.preview_url,alt:a.name,className:"aspect-square w-full object-cover"},a.id))})]})}),e.jsxs(N,{children:[e.jsxs(x,{children:[e.jsx(K,{}),e.jsx(g,{children:"Ketentuan upload file"}),e.jsx(S,{children:"File yang dapat diupload adalah file dengan ekstensi PDF dan file gambar (JPG, PNG, JPEG) dengan ukurang tidak lebih dari 2Mb."})]}),e.jsx(j,{onClick:n,label:"Upload media",loading:l,disabled:l}),e.jsx(B,{asChild:!0,children:e.jsxs(b,{variant:"outline",children:[e.jsx(T,{})," Batalin"]})})]})]})]})};export{Se as default};
