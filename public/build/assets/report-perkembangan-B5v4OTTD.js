import{r as u,u as Q,b as X,j as e}from"./app-CV5NnCgl.js";import{B as v}from"./button-xSSX5Bpb.js";import{C as w,a as N,b as R,e as T,c as y}from"./card-xRIpKJw2.js";import{C as K}from"./checkbox-CwWKB9Nh.js";import{S as Y}from"./separator-BItM5_TO.js";import{T as S,a as H,b as g,e as t,d as _,c as f}from"./table-CyZgQ1QH.js";import{T as $}from"./textarea-QtBm-jY4.js";import{t as q,e as Z,c as ee,m as re}from"./utils-BskjP-Rv.js";import ne from"./report-header-B2b9s4YH.js";import te from"./report-student-card-TGXVURL5.js";import{C as ae}from"./check-BR5GXtfa.js";/* empty css            */import"./index-Ua1wJIp2.js";import"./index-B8FGTLBf.js";import"./index-C3aZLXI9.js";import"./index-UBPgyjBK.js";import"./index-BQJtN7WL.js";import"./index-DZfC-yUP.js";import"./index-DA56pQCT.js";import"./index-BNprvznM.js";import"./createLucideIcon-BaUU6ogK.js";function se(b,i,o,c){var x=this,h=u.useRef(null),m=u.useRef(0),k=u.useRef(0),r=u.useRef(null),n=u.useRef([]),l=u.useRef(),a=u.useRef(),j=u.useRef(b),p=u.useRef(!0);j.current=b;var F=typeof window<"u",D=!i&&i!==0&&F;if(typeof b!="function")throw new TypeError("Expected a function");i=+i||0;var z=!!(o=o||{}).leading,L=!("trailing"in o)||!!o.trailing,C="maxWait"in o,O="debounceOnServer"in o&&!!o.debounceOnServer,M=C?Math.max(+o.maxWait||0,i):null;u.useEffect(function(){return p.current=!0,function(){p.current=!1}},[]);var J=u.useMemo(function(){var P=function(s){var d=n.current,I=l.current;return n.current=l.current=null,m.current=s,k.current=k.current||s,a.current=j.current.apply(I,d)},E=function(s,d){D&&cancelAnimationFrame(r.current),r.current=D?requestAnimationFrame(s):setTimeout(s,d)},U=function(s){if(!p.current)return!1;var d=s-h.current;return!h.current||d>=i||d<0||C&&s-m.current>=M},W=function(s){return r.current=null,L&&n.current?P(s):(n.current=l.current=null,a.current)},B=function s(){var d=Date.now();if(z&&k.current===m.current&&V(),U(d))return W(d);if(p.current){var I=i-(d-h.current),G=C?Math.min(I,M-(d-m.current)):I;E(s,G)}},V=function(){},A=function(){if(F||O){var s=Date.now(),d=U(s);if(n.current=[].slice.call(arguments),l.current=x,h.current=s,d){if(!r.current&&p.current)return m.current=h.current,E(B,i),z?P(h.current):a.current;if(C)return E(B,i),P(h.current)}return r.current||E(B,i),a.current}};return A.cancel=function(){r.current&&(D?cancelAnimationFrame(r.current):clearTimeout(r.current)),m.current=0,n.current=h.current=l.current=r.current=null},A.isPending=function(){return!!r.current},A.flush=function(){return r.current?W(Date.now()):a.current},A},[z,C,i,M,L,D,F,O,c]);return J}const ye=({data:b})=>{const{student:i,report:o}=Q().props,{data:c,setData:x,put:h}=X({data:b}),m=se((r,n,l)=>{const a={...c};a.data.curricular_domain[r].points[n].description=l,x(a)},300),k=u.useCallback(()=>{h(route("report.update",o.id),{preserveScroll:!0,onSuccess:()=>{q.success("Rapor berhasil disimpan")},onError:r=>q.error(Z(r))})},[h,o.id]);return u.useEffect(()=>{const r=n=>{(n.ctrlKey||n.metaKey)&&n.key==="s"&&(n.preventDefault(),k())};return window.addEventListener("keydown",r),()=>{window.removeEventListener("keydown",r)}},[k]),e.jsxs(e.Fragment,{children:[e.jsx(ne,{}),e.jsx(te,{student_name:c.data.nama,student_age:c.data.usia,student_nisn:c.data.nisn,classroom_name:c.data.kelas}),e.jsxs(v,{onClick:k,className:"fixed right-6 bottom-6",children:[e.jsx(ae,{}),"Simpan"]}),e.jsx("h2",{className:"text-center text-xl font-bold",children:"CURRICULAR DOMAIN"}),c.data.curricular_domain.map((r,n)=>e.jsxs(w,{children:[e.jsxs(N,{children:[e.jsx(R,{children:r.name}),e.jsx(T,{children:r.goal})]}),e.jsx(Y,{}),e.jsx(y,{children:e.jsxs(S,{children:[e.jsx(H,{children:e.jsxs(g,{children:[e.jsx(t,{className:"text-center",children:"Fokus Perkembangan"}),e.jsx(t,{className:"w-xl text-center",children:"Perkembangan anak"}),e.jsx(t,{className:"w-[50px] text-center",children:"A"}),e.jsx(t,{className:"w-[50px] text-center",children:"B"}),e.jsx(t,{className:"w-[50px] text-center",children:"C"})]})}),e.jsx(_,{children:r.points.map((l,a)=>e.jsxs(g,{children:[e.jsx(t,{children:e.jsx("div",{className:"text-wrap",children:l.name})}),e.jsx(t,{children:e.jsx($,{placeholder:"Tulis deskripsi disini...",className:"min-h-20",defaultValue:l.description,onChange:j=>m(n,a,j.target.value)})}),["A","B","C"].map(j=>e.jsx(t,{children:e.jsx(v,{variant:"ghost",size:"icon",onClick:()=>{const p={...c};p.data.curricular_domain[n].points[a].mark=j,x(p)},children:e.jsx(K,{checked:l.mark===j})})},j))]},a))})]})})]},n)),e.jsx("h2",{className:"text-center text-xl font-bold",children:"18 SIKAP"}),e.jsxs(w,{children:[e.jsxs(N,{children:[e.jsx(R,{children:"4 dari 18 Sikap yang dibangun di Sekolah Al â€“ Madinah."}),e.jsxs(T,{children:[e.jsx("li",{children:"I (membutuhkan motivasi)"}),e.jsx("li",{children:"II (menunjukkan perbaikan)"}),e.jsx("li",{children:"III (memiliki kompetensi)"})]})]}),e.jsx(y,{children:e.jsxs(S,{children:[e.jsx(H,{children:e.jsxs(g,{children:[e.jsx(f,{children:"No."}),e.jsx(f,{className:"w-full",children:"Sikap yang dikembangkan"}),e.jsx(f,{className:"text-center",children:"I"}),e.jsx(f,{className:"text-center",children:"II"}),e.jsx(f,{className:"text-center",children:"III"})]})}),e.jsx(_,{children:Object.entries(c.data.sikap).map(([r,n],l)=>e.jsxs(g,{children:[e.jsxs(t,{children:[l+1,"."]}),e.jsx(t,{children:r}),e.jsx(t,{children:e.jsx(v,{variant:"ghost",size:"icon",children:e.jsx(K,{checked:n===1,onCheckedChange:a=>x(`data.sikap.${r}`,a?1:null)})})}),e.jsx(t,{children:e.jsx(v,{variant:"ghost",size:"icon",children:e.jsx(K,{checked:n===2,onCheckedChange:a=>x(`data.sikap.${r}`,a?2:null)})})}),e.jsx(t,{children:e.jsx(v,{variant:"ghost",size:"icon",children:e.jsx(K,{checked:n===3,onCheckedChange:a=>x(`data.sikap.${r}`,a?3:null)})})})]}))})]})})]}),e.jsx("h2",{className:"text-center text-xl font-bold",children:"EKSTRAKULIKULER"}),e.jsxs(w,{children:[e.jsxs(N,{children:[e.jsx(R,{children:"Ekstrakulikuler"}),e.jsx(T,{children:"Ekstarkulukuler dan kegiatan yang diikuti siswa"})]}),e.jsx(y,{children:e.jsxs(S,{children:[e.jsx(H,{children:e.jsxs(g,{children:[e.jsx(f,{children:"No."}),e.jsx(f,{children:"Jenis Ekstrakurikuler"}),e.jsx(f,{children:"Kegiatan yang pernah Diikuti"})]})}),e.jsx(_,{children:i.activities?.map((r,n)=>e.jsxs(g,{children:[e.jsxs(t,{children:[n+1,"."]}),e.jsx(t,{children:r.extracurricular.name}),e.jsx(t,{children:r.description})]}))})]})})]}),e.jsx("h2",{className:"text-center text-xl font-bold",children:"KETIDAKHADIRAN"}),e.jsxs(w,{children:[e.jsxs(N,{children:[e.jsx(R,{children:"Ketidakhadiran"}),e.jsx(T,{children:"Ketidakhadiran siswa tahun ajaran ini"})]}),e.jsx(y,{children:e.jsx(S,{children:e.jsx(_,{children:["sakit","izin","tanpa keterangan"].map((r,n)=>e.jsxs(g,{children:[e.jsx(t,{children:n+1}),e.jsx(t,{children:ee(r)}),e.jsx(t,{children:re(c.data.ketidakhadiran[r])})]}))})})})]}),e.jsx("h2",{className:"text-center text-xl font-bold",children:"KOMENTAR"}),e.jsxs(w,{children:[e.jsxs(N,{children:[e.jsx(R,{children:"Komentar guru"}),e.jsx(T,{children:c.data.walikelas})]}),e.jsx(y,{children:e.jsx($,{placeholder:"Tulis komentar guru disini",value:c.data.komentar_guru,onChange:r=>x("data.komentar_guru",r.target.value)})})]})]})};export{ye as default};
