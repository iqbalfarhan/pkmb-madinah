import{r as C,b as w,j as e}from"./app-DCezT-tH.js";import{F as c}from"./form-control-2yCrAZW8.js";import{S as A}from"./submit-button-YLeRwBnw.js";import{A as l,a as m,b as d}from"./alert-Cmf81BhO.js";import{B as N}from"./button-ArlsNb7d.js";import{I as D}from"./input-CPx8qqgV.js";import{S as F}from"./scroll-area-CByzN68e.js";import{S as B,a as I,b as T,c as E,d as j}from"./select-BHeykcLr.js";import{S as M,a as O,b as G,c as J,d as V,e as z,f as H,g as L}from"./sheet-bXFtvaZG.js";import{u as P}from"./use-mobile-UF19YUtU.js";import{c as f,t as i,e as S}from"./utils-Cuhixvr1.js";import{C as u}from"./check-ZD48ZMAX.js";import{c as R}from"./createLucideIcon-B5tjwnDf.js";import{X as W}from"./x-D5RAVaAM.js";/* empty css            */import"./label-DhTkm96b.js";import"./index-z-ZSzTY5.js";import"./index-DiVgYccx.js";import"./index-DaP5U5QB.js";import"./loader-circle-DmMQPaLo.js";import"./index-Bbb3egSq.js";import"./index-BkrcH_kL.js";import"./index-CCsaYOwk.js";import"./index-C2fL9G6C.js";import"./index-DMaNjEHG.js";import"./index-CNKuoOJk.js";import"./index-BdQq_4o_.js";import"./index-BUkPCt_B.js";import"./index-DCJxHTiz.js";import"./index-CeRv711E.js";import"./index-lj96brrA.js";import"./index-Bux5GZ1G.js";import"./index-DQheE-bN.js";import"./index-DdmTl9IR.js";import"./chevron-down-C0cI9hrZ.js";import"./index-BQPXP4Jn.js";const X=[["path",{d:"M5 12h14",key:"1ays0h"}]],p=R("Minus",X),De=({children:y,academicyear:o,purpose:r})=>{const[k,n]=C.useState(!1),b=P(),{data:s,setData:t,put:g,post:v,reset:_,processing:h}=w({year:o?.year??"",semester:o?.semester??"ganjil",new_classroom:!0,sync_student_classroom:!0,active:!0}),x=()=>{r==="create"||r==="duplicate"?v(route("academicyear.store"),{preserveScroll:!0,onSuccess:()=>{i.success("Academicyear created successfully"),_(),n(!1)},onError:a=>i.error(S(a))}):g(route("academicyear.update",o?.id),{preserveScroll:!0,onSuccess:()=>{i.success("Academicyear updated successfully"),n(!1)},onError:a=>i.error(S(a))})};return e.jsxs(M,{open:k,onOpenChange:n,children:[e.jsx(O,{asChild:!0,children:y}),e.jsxs(G,{side:b?"bottom":"right",children:[e.jsxs(J,{children:[e.jsxs(V,{children:[f(r)," data academicyear"]}),e.jsxs(z,{children:["Form untuk ",r," data academicyear"]})]}),e.jsx(F,{className:"flex-1 overflow-y-auto",children:e.jsxs("form",{className:"space-y-6 px-4",onSubmit:a=>{a.preventDefault(),x()},children:[e.jsx(c,{label:"Tahun ajaran",hint:"format penulisan: 20xx/20xx",children:e.jsx(D,{type:"text",placeholder:"20xx/20xx",value:s.year,onChange:a=>t("year",a.target.value)})}),r==="edit"&&e.jsx(c,{label:"Semester",children:e.jsxs(B,{value:s.semester,onValueChange:a=>t("semester",a),children:[e.jsx(I,{children:e.jsx(T,{placeholder:"Pilih semester"})}),e.jsxs(E,{children:[e.jsx(j,{value:"ganjil",children:"Ganjil"}),e.jsx(j,{value:"genap",children:"Genap"})]})]})}),e.jsxs(c,{label:"Opsi tahun ajaran baru",asDiv:!0,className:"grid space-y-1",children:[e.jsxs(l,{className:"cursor-pointer",variant:s.new_classroom?"success":"default",onClick:()=>t("new_classroom",!s.new_classroom),children:[s.new_classroom?e.jsx(u,{}):e.jsx(p,{}),e.jsx(m,{children:"Buat kelas baru"}),e.jsx(d,{children:"Duplikat data kelas dari tahun ajaran sebelumnya"})]}),e.jsxs(l,{className:"cursor-pointer",variant:s.sync_student_classroom?"success":"default",onClick:()=>t("sync_student_classroom",!s.sync_student_classroom),children:[s.sync_student_classroom?e.jsx(u,{}):e.jsx(p,{}),e.jsx(m,{children:"Sinkronisasi kelas siswa"}),e.jsx(d,{children:"Sesuaikan kelas siswa berdasarkan naik kelas atau tinggal kelas dari rapor nilai terakhir."})]}),e.jsxs(l,{className:"cursor-pointer",variant:s.active?"success":"default",onClick:()=>t("active",!s.active),children:[s.active?e.jsx(u,{}):e.jsx(p,{}),e.jsx(m,{children:"Jadikan tahun ajaran sebagai aktif"}),e.jsx(d,{children:"Jadikan tahun ajaran baru ini sebgai tahun ajaran yang aktif."})]})]})]})}),e.jsxs(H,{children:[e.jsx(A,{onClick:x,label:`${f(r)} academicyear`,loading:h,disabled:h}),e.jsx(L,{asChild:!0,children:e.jsxs(N,{variant:"outline",children:[e.jsx(W,{})," Batalin"]})})]})]})]})};export{De as default};
