import{b as y,j as i}from"./app-1gRYhgGO.js";import{B as v}from"./back-button-DAuVIHSB.js";import{D}from"./d-dump-CdCY-bJV.js";import{F as m}from"./form-control-CiC7Gptp.js";import{M as w}from"./money-input-CMHKdqkz.js";import{S as F}from"./submit-button-DTNZheHg.js";import{C as p,a as c,b as h,e as u,c as l,d as P}from"./card-CB9uSqPv.js";import{C as x}from"./checkbox-VDArEm9Z.js";import{L as j}from"./label-DLm0P1oF.js";import{S as T,a as A,b as I,c as L,d as V}from"./select-Bb3e81kx.js";import{S as g}from"./separator-Cu-lZRsG.js";import{T as E}from"./textarea-CyeHOWdV.js";import{A as M}from"./app-layout-DDIsPip2.js";import{g as R,t as f,e as H}from"./utils-CyJU_VrJ.js";import{A as O}from"./arrow-right-CnsrpR-O.js";/* empty css            */import"./button-DA7Z_O1q.js";import"./index-BgQkCLUt.js";import"./index-CAQ_2Y1f.js";import"./arrow-left-Cpm34srO.js";import"./createLucideIcon-CFIFPO-p.js";import"./input-BOmWmluN.js";import"./loader-circle-CR3keSZy.js";import"./check-CayS2KYt.js";import"./index-gFA7pdn5.js";import"./index-DMU4DnI4.js";import"./index-ok2X2JQW.js";import"./index-tuaECLoT.js";import"./index-B_ueAEvu.js";import"./index-DHSMTdqP.js";import"./index-BdQq_4o_.js";import"./index-D43Nxz1x.js";import"./index-DnQstJiE.js";import"./index-CuHh68Lx.js";import"./index-CJ0epS5X.js";import"./index-Bxc5AJf3.js";import"./index-lD1DdBb8.js";import"./index-C3SU7_O3.js";import"./chevron-down-KurqF49X.js";import"./theme-toggler-DP9AkIFu.js";import"./use-mobile-DrE0IT_s.js";import"./app-logo-Bsp5TSXL.js";import"./sheet-C4VugGLW.js";import"./index-D95O1AQV.js";import"./x-mB4VDHP9.js";import"./scroll-area-D8ZGwl2z.js";import"./app-logo-icon-B6yJG_Xs.js";import"./index-BEX51hlW.js";import"./chevron-right-Bf-8XzZM.js";import"./avatar-OMyrh3Z1.js";import"./book-open-DD7o0FxD.js";import"./wallet-B3SXAf4e.js";import"./folder-DZVL5l2N.js";import"./book-nSr1_FRc.js";const $i=({students:o=[],paymenttypes:d=[],classrooms:b=[]})=>{const{data:r,setData:e,post:C,processing:k}=y({student_ids:[],payment_type_id:"",amount:0,description:""}),_=()=>{C(route("bill.bulk.create"),{preserveScroll:!0,onSuccess:()=>f.success("Berhasil membuat beberapa tagihan"),onError:s=>f.error(H(s))})},S=R(o,"classroom_id");return i.jsx(M,{title:"Buat tagihan sekaligus",description:"Buat tagihan sekaligus untuk banyak siswa",actions:i.jsx(i.Fragment,{children:i.jsx(v,{})}),children:i.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[i.jsxs(p,{children:[i.jsxs(c,{children:[i.jsx(h,{children:"Pilih siswa"}),i.jsx(u,{children:"Pilih siswa dari list berikut ini"})]}),i.jsx(l,{children:i.jsxs(j,{className:"space-x-2",children:[i.jsx(x,{checked:r.student_ids.length===o.length,onCheckedChange:s=>{s?e("student_ids",o.map(t=>t.id)):e("student_ids",[])}}),i.jsx("span",{children:"Pilih semua siswa"})]})}),i.jsx(g,{}),i.jsx(l,{children:i.jsx("div",{className:"grid gap-6",children:Object.entries(S).map(([s,t])=>{const n=b.find(a=>a.id===Number(s));return i.jsxs("div",{className:"grid gap-4",children:[i.jsx("h2",{children:n?.name}),t.map(a=>i.jsxs(j,{className:"space-x-2",children:[i.jsx(x,{value:a.id,checked:r.student_ids.includes(a.id),onCheckedChange:N=>{N?e("student_ids",[...r.student_ids,a.id]):e("student_ids",r.student_ids.filter(B=>B!==a.id))}}),i.jsx("span",{children:a.name})]}))]})})})})]}),i.jsxs(p,{className:"lg:col-span-2",children:[i.jsxs(c,{children:[i.jsx(h,{children:"Informasi tagihan"}),i.jsx(u,{children:"Isi jenis tagihan dan deskripsi tagihan"})]}),i.jsx(g,{}),i.jsxs(l,{className:"flex-1",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(m,{label:"Pilih jenis pembayaran",children:i.jsxs(T,{value:r.payment_type_id.toString(),onValueChange:s=>{e("payment_type_id",s);const t=d.find(n=>n.id===Number(s));e("amount",t?.default_amount),e("description",`Tagihan untuk pembayaran ${t?.name}`)},children:[i.jsx(A,{children:i.jsx(I,{placeholder:"Pilih jenis tagihan"})}),i.jsx(L,{children:d.map(s=>i.jsx(V,{value:s.id.toString(),children:s.name},s.id))})]})}),i.jsx(m,{label:"Nominal pembayaran",children:i.jsx(w,{value:r.amount?r.amount:0,onValueChange:s=>s?e("amount",Number(s)):void 0})}),i.jsx(m,{label:"Deskripsi",className:"lg:col-span-full",children:i.jsx(E,{value:r.description,onChange:s=>e("description",s.target.value)})})]}),i.jsx(D,{content:r})]}),i.jsx(P,{children:i.jsx(F,{icon:O,onClick:_,label:"Buat tagihan",loading:k})})]})]})})};export{$i as default};
