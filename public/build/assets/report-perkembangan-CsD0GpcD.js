import{r as u,u as Q,b as X,j as e}from"./app-CzQVzdmc.js";import{B as C}from"./button-CU_mGtAv.js";import{C as A,a as v,b as w,e as R,c as T}from"./card-CJJCAoOH.js";import{C as I}from"./checkbox-I_DsPxmK.js";import{S as Y}from"./separator-3L83pJh0.js";import{T as K,a as z,b as g,e as t,d as M,c as f}from"./table-BnXWhiM7.js";import{T as $}from"./textarea-Dm_MStDK.js";import{t as J,e as Z,c as ee,m as re}from"./utils-hZ0mFl5V.js";import ne from"./report-student-card-B72Ad-Z3.js";import{C as te}from"./check-mUbLxOvB.js";/* empty css            */import"./index-DovcoTDN.js";import"./index-CsSVv123.js";import"./index-1hpOEd7n.js";import"./index-DNkflAsx.js";import"./index-DyPvs_BG.js";import"./index-CC_0_2vE.js";import"./index-CHxR0mwP.js";import"./index-DX_iff6I.js";import"./createLucideIcon-CUS7vqFQ.js";function ae(b,i,o,c){var h=this,x=u.useRef(null),j=u.useRef(0),k=u.useRef(0),r=u.useRef(null),n=u.useRef([]),l=u.useRef(),a=u.useRef(),m=u.useRef(b),p=u.useRef(!0);m.current=b;var P=typeof window<"u",E=!i&&i!==0&&P;if(typeof b!="function")throw new TypeError("Expected a function");i=+i||0;var _=!!(o=o||{}).leading,H=!("trailing"in o)||!!o.trailing,N="maxWait"in o,O="debounceOnServer"in o&&!!o.debounceOnServer,B=N?Math.max(+o.maxWait||0,i):null;u.useEffect(function(){return p.current=!0,function(){p.current=!1}},[]);var q=u.useMemo(function(){var F=function(s){var d=n.current,y=l.current;return n.current=l.current=null,j.current=s,k.current=k.current||s,a.current=m.current.apply(y,d)},D=function(s,d){E&&cancelAnimationFrame(r.current),r.current=E?requestAnimationFrame(s):setTimeout(s,d)},U=function(s){if(!p.current)return!1;var d=s-x.current;return!x.current||d>=i||d<0||N&&s-j.current>=B},W=function(s){return r.current=null,H&&n.current?F(s):(n.current=l.current=null,a.current)},L=function s(){var d=Date.now();if(_&&k.current===j.current&&G(),U(d))return W(d);if(p.current){var y=i-(d-x.current),V=N?Math.min(y,B-(d-j.current)):y;D(s,V)}},G=function(){},S=function(){if(P||O){var s=Date.now(),d=U(s);if(n.current=[].slice.call(arguments),l.current=h,x.current=s,d){if(!r.current&&p.current)return j.current=x.current,D(L,i),_?F(x.current):a.current;if(N)return D(L,i),F(x.current)}return r.current||D(L,i),a.current}};return S.cancel=function(){r.current&&(E?cancelAnimationFrame(r.current):clearTimeout(r.current)),j.current=0,n.current=x.current=l.current=r.current=null},S.isPending=function(){return!!r.current},S.flush=function(){return r.current?W(Date.now()):a.current},S},[_,N,i,B,H,E,P,O,c]);return q}const we=({data:b})=>{const{student:i,report:o}=Q().props,{data:c,setData:h,put:x}=X({data:b}),j=ae((r,n,l)=>{const a={...c};a.data.curricular_domain[r].points[n].description=l,h(a)},300),k=u.useCallback(()=>{x(route("report.update",o.id),{preserveScroll:!0,onSuccess:()=>{J.success("Rapor berhasil disimpan")},onError:r=>J.error(Z(r))})},[x,o.id]);return u.useEffect(()=>{const r=n=>{(n.ctrlKey||n.metaKey)&&n.key==="s"&&(n.preventDefault(),k())};return window.addEventListener("keydown",r),()=>{window.removeEventListener("keydown",r)}},[k]),e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"text-center text-3xl font-semibold uppercase",children:"LAPORAN PERKEMBANGAN SISWA PKBM AL-MADINAH SEMESTER ganjil TAHUN AJARAN 2024/2025"}),e.jsx(ne,{student_name:c.data.nama,student_age:c.data.usia,student_nisn:c.data.nisn,classroom_name:c.data.kelas}),e.jsxs(C,{onClick:k,className:"fixed right-6 bottom-6",children:[e.jsx(te,{}),"Simpan"]}),e.jsx("h2",{className:"text-center text-xl font-bold",children:"CURRICULAR DOMAIN"}),c.data.curricular_domain.map((r,n)=>e.jsxs(A,{children:[e.jsxs(v,{children:[e.jsx(w,{children:r.name}),e.jsx(R,{children:r.goal})]}),e.jsx(Y,{}),e.jsx(T,{children:e.jsxs(K,{children:[e.jsx(z,{children:e.jsxs(g,{children:[e.jsx(t,{className:"text-center",children:"Fokus Perkembangan"}),e.jsx(t,{className:"w-xl text-center",children:"Perkembangan anak"}),e.jsx(t,{className:"w-[50px] text-center",children:"A"}),e.jsx(t,{className:"w-[50px] text-center",children:"B"}),e.jsx(t,{className:"w-[50px] text-center",children:"C"})]})}),e.jsx(M,{children:r.points.map((l,a)=>e.jsxs(g,{children:[e.jsx(t,{children:e.jsx("div",{className:"text-wrap",children:l.name})}),e.jsx(t,{children:e.jsx($,{placeholder:"Tulis deskripsi disini...",className:"min-h-20",defaultValue:l.description,onChange:m=>j(n,a,m.target.value)})}),["A","B","C"].map(m=>e.jsx(t,{children:e.jsx(C,{variant:"ghost",size:"icon",onClick:()=>{const p={...c};p.data.curricular_domain[n].points[a].mark=m,h(p)},children:e.jsx(I,{checked:l.mark===m})})},m))]},a))})]})})]},n)),e.jsx("h2",{className:"text-center text-xl font-bold",children:"18 SIKAP"}),e.jsxs(A,{children:[e.jsxs(v,{children:[e.jsx(w,{children:"4 dari 18 Sikap yang dibangun di Sekolah Al â€“ Madinah."}),e.jsxs(R,{children:[e.jsx("li",{children:"I (membutuhkan motivasi)"}),e.jsx("li",{children:"II (menunjukkan perbaikan)"}),e.jsx("li",{children:"III (memiliki kompetensi)"})]})]}),e.jsx(T,{children:e.jsxs(K,{children:[e.jsx(z,{children:e.jsxs(g,{children:[e.jsx(f,{children:"No."}),e.jsx(f,{className:"w-full",children:"Sikap yang dikembangkan"}),e.jsx(f,{className:"text-center",children:"I"}),e.jsx(f,{className:"text-center",children:"II"}),e.jsx(f,{className:"text-center",children:"III"})]})}),e.jsx(M,{children:Object.entries(c.data.sikap).map(([r,n],l)=>e.jsxs(g,{children:[e.jsxs(t,{children:[l+1,"."]}),e.jsx(t,{children:r}),e.jsx(t,{children:e.jsx(C,{variant:"ghost",size:"icon",children:e.jsx(I,{checked:n===1,onCheckedChange:a=>h(`data.sikap.${r}`,a?1:null)})})}),e.jsx(t,{children:e.jsx(C,{variant:"ghost",size:"icon",children:e.jsx(I,{checked:n===2,onCheckedChange:a=>h(`data.sikap.${r}`,a?2:null)})})}),e.jsx(t,{children:e.jsx(C,{variant:"ghost",size:"icon",children:e.jsx(I,{checked:n===3,onCheckedChange:a=>h(`data.sikap.${r}`,a?3:null)})})})]}))})]})})]}),e.jsx("h2",{className:"text-center text-xl font-bold",children:"EKSTRAKULIKULER"}),e.jsxs(A,{children:[e.jsxs(v,{children:[e.jsx(w,{children:"Ekstrakulikuler"}),e.jsx(R,{children:"Ekstarkulukuler dan kegiatan yang diikuti siswa"})]}),e.jsx(T,{children:e.jsxs(K,{children:[e.jsx(z,{children:e.jsxs(g,{children:[e.jsx(f,{children:"No."}),e.jsx(f,{children:"Jenis Ekstrakurikuler"}),e.jsx(f,{children:"Kegiatan yang pernah Diikuti"})]})}),e.jsx(M,{children:i.activities?.map((r,n)=>e.jsxs(g,{children:[e.jsxs(t,{children:[n+1,"."]}),e.jsx(t,{children:r.extracurricular.name}),e.jsx(t,{children:r.description})]}))})]})})]}),e.jsx("h2",{className:"text-center text-xl font-bold",children:"KETIDAKHADIRAN"}),e.jsxs(A,{children:[e.jsxs(v,{children:[e.jsx(w,{children:"Ketidakhadiran"}),e.jsx(R,{children:"Ketidakhadiran siswa tahun ajaran ini"})]}),e.jsx(T,{children:e.jsx(K,{children:e.jsx(M,{children:["sakit","izin","tanpa keterangan"].map((r,n)=>e.jsxs(g,{children:[e.jsx(t,{children:n+1}),e.jsx(t,{children:ee(r)}),e.jsx(t,{children:re(c.data.ketidakhadiran[r])})]}))})})})]}),e.jsx("h2",{className:"text-center text-xl font-bold",children:"KOMENTAR"}),e.jsxs(A,{children:[e.jsxs(v,{children:[e.jsx(w,{children:"Komentar guru"}),e.jsx(R,{children:c.data.walikelas})]}),e.jsx(T,{children:e.jsx($,{placeholder:"Tulis komentar guru disini",value:c.data.komentar_guru,onChange:r=>h("data.komentar_guru",r.target.value)})})]})]})};export{we as default};
