import{u as R,b as y,r as v,j as a}from"./app-CIGw9i2b.js";import{B as p}from"./button-2kgyDa7d.js";import{C as j,a as u,b as f,e as b,c as g,d as B}from"./card-BqDxDruW.js";import{S as D}from"./separator-pCxSRObi.js";import{T as F,a as H,b as c,c as o,d as E,e as n}from"./table-BmYyepp6.js";import{T as P}from"./textarea-CPA2FdC9.js";import{t as C,e as _,g as A}from"./utils-DbtVPm72.js";import w from"./report-header-C1SUpGZF.js";import I from"./report-student-card-GJEIifl-.js";import J from"./report-tahfidz-form-sheet-CwI95IEe.js";import{C as K}from"./check-C_eeOeuv.js";import{S as L}from"./square-pen-Di9pZX0K.js";import{T as $}from"./trash-2-Cj_pszYm.js";import{P as q}from"./plus-BTcbKQOA.js";/* empty css            */import"./index-DDQ3Tw7q.js";import"./index-DbMCObVg.js";import"./index-CHTGNRo5.js";import"./form-control-BxmlLHIg.js";import"./label-D71Z5iA0.js";import"./submit-button-BevoMLii.js";import"./loader-circle-Dn89YS0N.js";import"./createLucideIcon-BjbRxkHS.js";import"./scroll-area-R2dwT5D8.js";import"./index-S8lxSZxe.js";import"./index-CV22sgPQ.js";import"./index-BHOgAl-J.js";import"./index-DTYTjGOJ.js";import"./index-BdQq_4o_.js";import"./index-DIkIzV6-.js";import"./select-ps5OCB2k.js";import"./index-BJs_4Phv.js";import"./index-DNKeDrik.js";import"./index-DiWRFbeS.js";import"./index-CLPbTJv6.js";import"./index-CwntBzC8.js";import"./index-ewRddeJn.js";import"./index-Bo0YqvPv.js";import"./chevron-down-BUWvFaWA.js";import"./sheet-D_v798ra.js";import"./index-CDYsPDjm.js";import"./x-BGsnz-0r.js";import"./enums-C02uj7LO.js";const Ea=({data:i})=>{const{report:h}=R().props,{data:e,setData:d,put:x}=y({data:i}),T=v.useCallback(()=>{x(route("report.update",h.id),{preserveScroll:!0,onSuccess:()=>{C.success("Rapor berhasil disimpan")},onError:r=>C.error(_(r))})},[x,h.id]),S=(r,t)=>{const s=[...e.data.nilai];s[r]=t,d("data.nilai",s)},z=r=>{const t=[...e.data.nilai];t.splice(r,1),d("data.nilai",t)},N=()=>{const r=[...e.data.nilai,{juz:"",surah:"",pencapaian:"",keterangan:""}];d("data.nilai",r)},k=A(e.data.nilai,"juz");return a.jsxs(a.Fragment,{children:[a.jsx(w,{}),a.jsxs(p,{onClick:T,className:"fixed right-6 bottom-6",children:[a.jsx(K,{}),"Simpan"]}),a.jsx(I,{student_name:i.nama,student_age:i.usia,student_nisn:i.nisn,classroom_name:i.kelas}),a.jsxs(j,{children:[a.jsxs(u,{children:[a.jsx(f,{children:"List hafalan"}),a.jsx(b,{children:"List hafalan yang sudah dihafal siswa"})]}),a.jsx(g,{children:a.jsxs(F,{children:[a.jsx(H,{children:a.jsxs(c,{children:[a.jsx(o,{children:"No"}),a.jsx(o,{children:"Nama Surah"}),a.jsx(o,{children:"Kemampuan yang Dicapai"}),a.jsx(o,{children:"Keterangan Ayat"}),a.jsx(o,{children:"Actions"})]})}),a.jsx(E,{children:Object.entries(k).map(([r,t])=>a.jsxs(a.Fragment,{children:[r!==""&&a.jsx(c,{children:a.jsxs(n,{colSpan:5,className:"bg-muted text-center text-muted-foreground",children:["Hafalan Juz ",r]})}),t.map(s=>{const m=e.data.nilai.findIndex(l=>l.surah===s.surah&&l.juz===s.juz);return a.jsxs(c,{children:[a.jsx(n,{children:m+1}),a.jsx(n,{children:s.surah}),a.jsx(n,{children:s.pencapaian}),a.jsx(n,{children:s.keterangan}),a.jsxs(n,{children:[a.jsx(J,{purpose:"edit",data:s,onSubmit:l=>S(m,l),children:a.jsx(p,{variant:"ghost",size:"icon",children:a.jsx(L,{})})}),a.jsx(p,{variant:"ghost",size:"icon",onClick:()=>z(m),children:a.jsx($,{})})]})]},`${s.juz}-${s.surah}`)})]}))})]})}),a.jsx(B,{children:a.jsxs(p,{onClick:N,children:[a.jsx(q,{})," Tambah baris"]})})]}),a.jsxs(j,{children:[a.jsxs(u,{children:[a.jsx(f,{children:"Catatan"}),a.jsxs(b,{children:["Catatan dari pembina tahfidz ",i.pembimbing]})]}),a.jsx(D,{}),a.jsx(g,{children:a.jsx(P,{value:e.data.catatan,onChange:r=>d("data.catatan",r.target.value)})})]})]})};export{Ea as default};
