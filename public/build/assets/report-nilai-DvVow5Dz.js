import{u as M,b as E,r as H,j as e,a as L}from"./app-DX5FfcIb.js";import{F as h}from"./form-control-BJsjG5KW.js";import{B as t}from"./button-NemV_oMY.js";import{C as j,a as u,b as k,e as f,d as P,c as N}from"./card-DTTVEN0S.js";import{C as z}from"./checkbox-yylNatHT.js";import{L as B}from"./label-DMlG8ChN.js";import{S as b,a as g,b as C,c as v,d as x}from"./select-DBOY956T.js";import{S as D}from"./separator-D3HIV1Cs.js";import{T as V,a as I,b as l,c as i,d as K,e as s,f as q}from"./table-CY28R1GH.js";import{T as O}from"./textarea-B6eOKOY5.js";import{t as d,e as S,g as U}from"./utils-_rq5ARwP.js";import A from"./report-header-BLcJHeno.js";import G from"./report-student-card-CRbQegFE.js";import{C as J}from"./check-DswkwETr.js";import{c as Q}from"./createLucideIcon-VYAwx6VJ.js";/* empty css            */import"./index-CqsV_uD_.js";import"./index-RM_2Ojh5.js";import"./index-CydgwFJp.js";import"./index-CW5pfF5s.js";import"./index-CctHAdAB.js";import"./index-DUD5bvmh.js";import"./index-wvzXfCUt.js";import"./index-4iXBTICP.js";import"./index-BdQq_4o_.js";import"./index-DtNxaTAa.js";import"./index-Cqhk-GTG.js";import"./index-CtGmznUw.js";import"./index-DkSApliP.js";import"./index-BeM0fZUP.js";import"./index-BoI38vqS.js";import"./index-DFTzk-0M.js";import"./chevron-down-PR-0HM1H.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],X=Q("RefreshCcw",W),Fe=({data:p})=>{const{report:n,grades:_=[]}=M().props,{data:r,setData:c,put:m}=E({data:p}),y=H.useCallback(()=>{m(route("report.update",n.id),{preserveScroll:!0,onSuccess:()=>{d.success("Rapor berhasil disimpan")},onError:a=>d.error(S(a))})},[m,n.id]),T=U(r.data.nilai,"type"),R=()=>{L.put(route("report.refresh-nilai",n.id),{type:n.report_type},{preserveScroll:!0,onSuccess:()=>d.success("Nilai updated"),onError:a=>d.error(S(a))})};return e.jsxs(e.Fragment,{children:[e.jsx(A,{}),e.jsx(G,{meta:p}),e.jsxs(t,{onClick:y,className:"fixed right-6 bottom-6",children:[e.jsx(J,{}),"Simpan"]}),e.jsxs(j,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(u,{children:[e.jsx(k,{children:"Hasil rekap nilai siswa."}),e.jsx(f,{children:"Nilai yang tampil saat ini adalah rekap nilai yang diisi oleh guru."})]}),e.jsx(P,{children:e.jsxs(t,{variant:"secondary",onClick:R,children:[e.jsx(X,{}),"Refresh nilai"]})})]}),e.jsx(N,{children:e.jsxs(V,{children:[e.jsxs(I,{children:[e.jsxs(l,{children:[e.jsx(i,{rowSpan:2,className:"text-center",children:"No"}),e.jsx(i,{rowSpan:2,className:"text-center",children:"Mata pelajaran"}),e.jsx(i,{colSpan:3,className:"text-center",children:"Nilai"})]}),e.jsxs(l,{children:[e.jsx(i,{className:"w-32 text-center",children:"Tugas"}),e.jsx(i,{className:"w-32 text-center",children:"Evaluasi"}),e.jsx(i,{className:"w-32 text-center",children:"Rata rata"})]})]}),e.jsx(K,{children:Object.entries(T).map(([a,w])=>e.jsxs(e.Fragment,{children:[a!=="Pelajaran dasar"&&e.jsx(l,{children:e.jsx(s,{colSpan:5,children:a})}),w.map((o,F)=>e.jsxs(l,{children:[e.jsx(s,{children:e.jsx(t,{size:"icon",variant:"ghost",disabled:!0,children:F+1})}),e.jsx(s,{children:e.jsx("p",{className:"text-wrap",children:o.name})}),e.jsx(s,{className:"text-center",children:o.nilai_tugas.toFixed(2)}),e.jsx(s,{className:"text-center",children:o.evaluasi.toFixed(2)}),e.jsx(s,{className:"text-center",children:o.rata_rata.toFixed(2)})]}))]}))}),e.jsx(q,{children:e.jsxs(l,{children:[e.jsx(s,{colSpan:2,className:"text-center",children:"Rata-rata"}),e.jsx(s,{className:"text-center",children:e.jsx(t,{variant:"ghost",disabled:!0,size:"icon",children:"100.00"})}),e.jsx(s,{className:"text-center",children:e.jsx(t,{variant:"ghost",disabled:!0,size:"icon",children:"100.00"})}),e.jsx(s,{className:"text-center",children:e.jsx(t,{variant:"ghost",disabled:!0,size:"icon",children:"100.00"})})]})})]})})]}),e.jsxs(B,{className:"flex h-9 items-center gap-2",children:[e.jsx(z,{checked:r.data.rapor_kenaikan_kelas,onCheckedChange:a=>c("data.rapor_kenaikan_kelas",a)}),e.jsx("span",{children:"Rapor ini merupakan rapor kenaikan kelas?"})]}),r.data.rapor_kenaikan_kelas&&e.jsxs(j,{children:[e.jsxs(u,{children:[e.jsx(k,{children:"Keputusan kenaikan kelas"}),e.jsx(f,{children:"Pilih keputusan kenaikan kelas"})]}),e.jsx(D,{}),e.jsx(N,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsx("div",{children:e.jsx(h,{label:"Keputusan",children:e.jsx(O,{value:r.data.keputusan,onChange:a=>c("data.keputusan",a.target.value)})})}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(h,{label:"Naik kelas?",children:e.jsxs(b,{value:r.data.naik_kelas?"true":"false",onValueChange:a=>c("data.naik_kelas",a==="true"),children:[e.jsx(g,{children:e.jsx(C,{placeholder:"Pilih kelas selanjutnya"})}),e.jsxs(v,{children:[e.jsx(x,{value:"true",children:"Naik kelas"}),e.jsx(x,{value:"false",children:"Tidak naik kelas"})]})]})}),r.data.naik_kelas!==null&&e.jsx(h,{label:r.data.naik_kelas?"Naik ke kelas":"Tetap di kelas",children:e.jsxs(b,{value:r.data.ke_kelas,onValueChange:a=>c("data.ke_kelas",a),children:[e.jsx(g,{children:e.jsx(C,{placeholder:"Pilih jenjang kelas"})}),e.jsx(v,{children:_.map(a=>e.jsx(x,{value:a.name,children:a.name}))})]})})]})]})})]})]})};export{Fe as default};
