import{r as v,b as g,j as r,a as b}from"./app-C7x5KhHz.js";import{F as l}from"./form-control-CZuPt8tY.js";import{S}from"./submit-button-Bqi3Ecyz.js";import{B as u}from"./button-vxbdGxHd.js";import{I as E}from"./input-D-6_P8y-.js";import{P as C,a as c,b as k}from"./popover-Dg9lZSOX.js";import{T as _}from"./textarea-CjJkbRep.js";import{t as s,e as n}from"./utils-BQQl3GY5.js";import{T as P}from"./trash-2-DcBKgC7a.js";/* empty css            */import"./label-DDZdW0bH.js";import"./index-eMgjOAMz.js";import"./index-CSYOWqEk.js";import"./index-p8PDXUln.js";import"./loader-circle-CCGUtCjh.js";import"./createLucideIcon-CUfKkV35.js";import"./check-BxrNFc2E.js";import"./index-B7PslCSq.js";import"./index-CXjXHCE1.js";import"./index-CIqkChO3.js";import"./index-BgCsx_S5.js";import"./index-CJM56CBG.js";import"./index-D4jrD_qF.js";import"./index-Hb9QhULM.js";import"./index-CrmrOIYn.js";import"./index-CEcx3JzK.js";const $=({children:p,examscore:o,options:a})=>{const[d,t]=v.useState(!1),{data:i,setData:m,post:x,put:f}=g({student_id:a?.student_id,lesson_id:a?.lesson_id,exam_id:a?.exam_id,score:o?.score??"-",remark:o?.remark??""}),h=()=>{o?f(route("examscore.update",o.id),{onSuccess:()=>{s.success("Examscore updated"),t(!1)},onError:e=>s.error(n(e))}):x(route("examscore.store"),{onSuccess:()=>{s.success("Examscore created"),t(!1)},onError:e=>s.error(n(e))})},j=()=>{b.delete(route("examscore.destroy",o?.id),{preserveScroll:!0,onSuccess:()=>{s.success("berhasil dihapus"),m("score","-"),t(!1)},onError:e=>s.error(n(e))})};return r.jsxs(C,{open:d,onOpenChange:t,children:[p?r.jsx(c,{asChild:!0,children:p}):r.jsx(c,{children:r.jsx(u,{variant:"ghost",size:"icon",children:i.score})}),r.jsx(k,{children:r.jsxs("form",{className:"space-y-6",onSubmit:e=>{e.preventDefault(),h()},children:[r.jsx(l,{label:"Nilai siswa",children:r.jsx(E,{value:i.score,onChange:e=>m("score",e.target.value)})}),r.jsx(l,{label:"Komentar guru",children:r.jsx(_,{placeholder:"tulis komentar guru disini",value:i.remark,onChange:e=>m("remark",e.target.value)})}),r.jsxs("div",{className:"flex w-full justify-between",children:[r.jsx(S,{}),o&&r.jsx(u,{type:"button",size:"icon",variant:"ghost",onClick:j,children:r.jsx(P,{})})]})]})})]})};export{$ as default};
